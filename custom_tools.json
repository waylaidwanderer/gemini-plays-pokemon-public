{
  "patrol_area": {
    "description": "Generates a sequence of button presses to patrol back and forth along a specified axis with a stride length. (v2)",
    "input_schema": {
      "type": "object",
      "properties": {
        "axis": {
          "type": "string",
          "enum": [
            "horizontal",
            "vertical"
          ],
          "description": "The axis to move along."
        },
        "stride": {
          "type": "integer",
          "description": "Number of steps in one direction before turning back."
        },
        "cycles": {
          "type": "integer",
          "description": "Number of full back-and-forth cycles."
        },
        "start_positive": {
          "type": "boolean",
          "description": "If true, starts with Right (horizontal) or Down (vertical). If false, starts with Left/Up."
        }
      },
      "required": [
        "axis",
        "stride",
        "cycles",
        "start_positive"
      ]
    },
    "python_script": "# Patrol Area Tool v2\naxis = input_data.get('axis', 'horizontal')\nstride = input_data.get('stride', 4)\ncycles = input_data.get('cycles', 3)\nstart_positive = input_data.get('start_positive', True)\n\nbuttons = []\nif axis == 'horizontal':\n    dir_pos = \"Right\"\n    dir_neg = \"Left\"\nelse:\n    dir_pos = \"Down\"\n    dir_neg = \"Up\"\n\nfirst = dir_pos if start_positive else dir_neg\nsecond = dir_neg if start_positive else dir_pos\n\nfor _ in range(cycles):\n    for _ in range(stride):\n        buttons.append(first)\n    for _ in range(stride):\n        buttons.append(second)\n\nprint(f'{buttons}'.replace(\"'\", '\"'))",
    "history": [
      {
        "commit_message": "Initial version",
        "timestamp": "2026-01-15T21:29:52.018Z",
        "action_counter": 41071
      },
      {
        "commit_message": "Added stride and cycle parameters to allow for wider patrol loops instead of just oscillating between two tiles.",
        "timestamp": "2026-01-15T21:33:23.577Z",
        "action_counter": 41075
      },
      {
        "commit_message": "Minor update to description and code comment to attempt to trigger sandbox environment reset.",
        "timestamp": "2026-01-15T22:24:07.527Z",
        "action_counter": 41152
      }
    ]
  },
  "wiggle_patrol": {
    "description": "Generates a sequence of button presses to patrol back and forth along a specified axis with a stride length.",
    "input_schema": {
      "type": "object",
      "properties": {
        "axis": {
          "type": "string",
          "enum": [
            "horizontal",
            "vertical"
          ],
          "description": "The axis to move along."
        },
        "stride": {
          "type": "integer",
          "description": "Number of steps in one direction before turning back."
        },
        "cycles": {
          "type": "integer",
          "description": "Number of full back-and-forth cycles."
        },
        "start_positive": {
          "type": "boolean",
          "description": "If true, starts with Right (horizontal) or Down (vertical). If false, starts with Left/Up."
        }
      },
      "required": [
        "axis",
        "stride",
        "cycles",
        "start_positive"
      ]
    },
    "python_script": "import json\n\n# Ensure input_data exists and handle it safely\ndata = globals().get('input_data', {})\n\nbuttons = []\naxis = data.get('axis', 'horizontal')\nstride = int(data.get('stride', 1))\ncycles = int(data.get('cycles', 1))\nstart_positive = data.get('start_positive', True)\n\nif axis == 'horizontal':\n    pos = 'Right'\n    neg = 'Left'\nelse:\n    pos = 'Down'\n    neg = 'Up'\n\nfor _ in range(cycles):\n    if start_positive:\n        buttons.extend([pos] * stride)\n        buttons.extend([neg] * stride)\n    else:\n        buttons.extend([neg] * stride)\n        buttons.extend([pos] * stride)\n\nprint(json.dumps(buttons))",
    "history": [
      {
        "commit_message": "Initial version",
        "timestamp": "2026-01-16T01:21:49.960Z",
        "action_counter": 41436
      },
      {
        "commit_message": "Fixed potential scope issue with variable definitions and added commit message.",
        "timestamp": "2026-01-16T02:52:47.526Z",
        "action_counter": 41572
      }
    ]
  },
  "enter_ecruteak_from_route37": {
    "description": "Navigates from anywhere on Route 37 to the Ecruteak City gate and enters. Stops after entering.",
    "input_schema": {
      "type": "object",
      "properties": {
        "autopress_buttons": {
          "type": "boolean",
          "default": false,
          "description": "If true and the tool returns a list of buttons, they will be pressed automatically. Safety limit of 50 buttons per turn."
        },
        "current_x": {
          "type": "integer",
          "description": "Current X coordinate on Route 37"
        },
        "current_y": {
          "type": "integer",
          "description": "Current Y coordinate on Route 37"
        }
      },
      "required": [
        "current_x",
        "current_y",
        "autopress_buttons"
      ]
    },
    "python_script": "import json\ndata = globals().get('input_data', {})\ncurrent_x = int(data.get('current_x', 8))\ncurrent_y = int(data.get('current_y', 2))\n\nbuttons = []\n\n# Align X to 8 (Gate is at 7 and 8, 8 is fine)\nif current_x < 8:\n    buttons.extend([\"Right\"] * (8 - current_x))\nelif current_x > 8:\n    buttons.extend([\"Left\"] * (current_x - 8))\n\n# Move Up to y=0\nif current_y > 0:\n    buttons.extend([\"Up\"] * current_y)\n\n# Move Up to Warp (Walk off edge) - Added extra step for reliability\nbuttons.extend([\"Up\", \"Up\"]) \n\nprint(json.dumps(buttons))",
    "history": [
      {
        "commit_message": "Refined tool to only handle the approach and entry to Ecruteak from Route 37, avoiding the map transition interrupt issue.",
        "timestamp": "2026-01-16T02:25:36.955Z",
        "action_counter": 41535
      },
      {
        "commit_message": "Increased the number of 'Up' presses to ensure the player successfully warps into Ecruteak City, fixing a previous failure where the player stopped at the gate threshold.",
        "timestamp": "2026-01-16T03:41:59.485Z",
        "action_counter": 41644
      }
    ]
  },
  "exit_ecruteak_to_route37": {
    "description": "Exits Ecruteak City (South) and walks down into the Route 37 grass. Assumes player is at Ecruteak entrance (18, 35).",
    "input_schema": {
      "type": "object",
      "properties": {},
      "required": []
    },
    "python_script": "import json\n\n# 1. Exit Ecruteak (Down)\n# 2. Walk into grass (Down, Down)\n# Note: The first Down triggers the warp. The subsequent Downs happen on Route 37.\nbuttons = [\"Down\", \"sleep 2000\", \"Down\", \"Down\"]\n\nprint(json.dumps(buttons))",
    "history": [
      {
        "commit_message": "New tool to handle the return trip from Ecruteak City entrance back to the hunting grounds on Route 37.",
        "timestamp": "2026-01-16T02:25:36.956Z",
        "action_counter": 41535
      }
    ]
  },
  "check_route37_grass": {
    "description": "Walks from Route 37 entrance (8, 0) OR Ecruteak Exit (18, 35) to grass at (8, 2) and performs a wiggle patrol.",
    "input_schema": {
      "type": "object",
      "properties": {
        "cycles": {
          "type": "integer",
          "description": "Number of left-right wiggle cycles. Default is 8.",
          "default": 8
        },
        "current_map_id": {
          "type": "string",
          "description": "The current map ID to determine starting position logic.",
          "default": "10_4"
        },
        "autopress_buttons": {
          "type": "boolean",
          "description": "If true and the tool returns a list of buttons, they will be pressed automatically. Safety limit of 50 buttons per turn.",
          "default": false
        }
      },
      "required": [
        "current_map_id",
        "autopress_buttons"
      ]
    },
    "python_script": "def run(input_data):\n    cycles = input_data.get('cycles', 8)\n    current_map_id = input_data.get('current_map_id', '10_4')\n    \n    buttons = []\n    \n    # Logic for starting from Ecruteak City Exit (18, 35)\n    if current_map_id == \"4_9\":\n        buttons.append(\"Down\") # Exit Ecruteak\n        buttons.append(\"sleep 1500\") # Wait for map transition\n        # After transition, we are at Route 37 (8, 0)\n    \n    # Logic for moving from Route 37 Entrance (8, 0) to Grass (8, 2)\n    # Assumes we are at (8, 0) or close to it after the above check or if starting there\n    buttons.extend([\"Down\", \"Down\"]) \n    \n    # Wiggle Patrol Logic\n    for _ in range(cycles):\n        buttons.extend([\"Left\", \"Right\"])\n        \n    return buttons\n\nprint(run(input_data))",
    "history": [
      {
        "commit_message": "Initial version",
        "timestamp": "2026-01-16T03:17:07.236Z",
        "action_counter": 41611
      },
      {
        "commit_message": "Updated to handle starting from Ecruteak City (4_9), allowing for a seamless Exit-and-Check sequence.",
        "timestamp": "2026-01-16T03:28:38.141Z",
        "action_counter": 41624
      },
      {
        "commit_message": "Fixed missing commit message and defined tool for Route 37 hunting logic.",
        "timestamp": "2026-01-16T09:06:55.663Z",
        "action_counter": 42184
      }
    ]
  }
}