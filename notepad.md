# I. Quest Log

- **Current Quest: The Mt. Moon Fossil**
    - **Objective:** Find a way past the Rocket Grunt at Mt. Moon B2F (30,12) or the Hiker at 1F (6,7).
    - **Status:** Active. Testing new hypotheses generated by the puzzle_solver_agent.
- **Stalled Quest: The Copycat's Gift**
    - **Objective:** Obtain a POKé DOLL and give it to COPYCAT.
    - **Status:** Stalled. All leads in Cerulean City exhausted. Suspect COPYCAT is not in a currently accessible area.

# II. Game Mechanics & World Rules

- **POKé DOLL Escape:** A POKé DOLL can be used to guarantee an escape from a wild Pokémon battle.
- **Battle Menu Anomaly:** The game appears to intentionally restrict move selection in certain wild battles to the first move slot.
- **Party Menu 'SWITCH' Lock:** The game can prevent using the 'SWITCH' command in the party menu, observed after multiple failed escape attempts.
- **Shop Menu Navigation Anomaly:** The Cerulean Mart shop menu does not follow a standard grid layout and requires 'B' to exit.

# III. Battle Intelligence

- **Type Effectiveness Chart (Verified):**
    - Water > Rock/Ground
    - Water is not very effective against Bug/Grass, Ghost/Poison
    - Poison is not very effective against Poison/Flying, Rock/Ground
    - Flying is not very effective against Rock/Ground
    - Rock is not very effective against Ground
    - Normal is not very effective against Ground
    - Flying is not very effective against Electric
    - Normal > Water/Ice
- **Notable Trainer Rosters:**
    - **Sabrina (Saffron Gym):** MR. MIME (Lv 65), HYPNO (Lv 64), SLOWBRO (Lv 64), JYNX (Lv 64), GENGAR (Lv 64), ALAKAZAM (Lv 65).
    - **SMITH (Cerulean Cave):** AERODACTYL (Lv 65).
    - **Brock (Pewter Gym):** OMASTAR (Lv 64), ONIX (Lv 65), KABUTOPS (Lv 64), GOLEM (Lv 64), NINETALES (Lv 64), AERODACTYL (Lv 65).
    - **Nurse Joy (Fuchsia City):** KANGASKHAN (Lv 65), SNORLAX (Lv 65), STARMIE (Lv 65), PORYGON (Lv 65), EXEGGUTOR (Lv 65), CHANSEY (Lv 65).
- **Known Movesets:**
    - **Kangaskhan:** DOUBLE TEAM, DOUBLE-EDGE.
    - **Snorlax:** (No moves observed).
    - **Starmie:** PSYCHIC.
    - **Porygon:** THUNDER WAVE, BLIZZARD, REFLECT, RECOVER.
    - **Exeggutor:** REFLECT, SLEEP POWDER, DREAM EATER.
    - **Chansey:** REFLECT, EGG BOMB.

# IV. Key Discoveries & Lessons Learned

- **PC Mechanics (CRITICAL):** The PC is **stateful**. It remembers the last system accessed (e.g., 'BILL's PC' for Pokémon or 'Gem's PC' for Items). When turning on the PC, it will open directly into the last-used system, bypassing the main selection menu. Any automation tool MUST account for this by having a reset sequence (e.g., pressing 'B' multiple times) to return to a known state before executing commands.
- **Tool Development Failure:** Repeatedly deferred fixing a critically flawed tool (`pc_shuffler_executor`) instead of addressing it immediately. Operated on an untested assumption (PC is stateless) which caused a loop of failures. **Lesson:** Verify core mechanics manually before automating them. Fix broken tools immediately.
- **Navigation Failure (Confirmation Bias):** Incorrectly assumed the eastern section of Route 4 was the correct path without verifying, leading to a significant detour. **Lesson:** Do not assume a path is correct. Explore all options when the way forward is not immediately clear.
- **Tool Usage Failure (Execution Loop):** Fell into a severe loop of failing maintenance-related tool calls due to repeated, minor argument errors (e.g., typos, extra spaces). Lesson: Prioritize resolving the immediate game state (like a battle) before attempting complex maintenance. Perform maintenance in a stable overworld state. Meticulously verify every character in tool arguments before execution.

# V. Tile Mechanics & Interaction Rules

- **PC Interaction:**
    - **Tile:** The tile for the PC in Pokémon Centers (e.g., Viridian Pokecenter (14,4)) is typed as `grass` in the map data, but it is impassable. Interaction requires standing on the tile directly below it (at (X, Y+1)) and facing up.
    - **Mechanics:** Selecting 'WITHDRAW PKMN' automatically withdraws the first Pokémon in the box list if the party has space. Selecting 'DEPOSIT PKMN' automatically deposits the lead Pokémon in the party. There is no option to choose which Pokémon to withdraw or deposit.
- **Warp Tiles (1x1):** To re-use an instant warp tile after arriving on it, you must first step off the tile and then step back on. This applies to tiles like `ladder_down` and `ladder_up`.
- **elevated_ground:** Inaccessible from 'ground' tiles unless via 'steps'. Acts as a separate plane of movement.
- **ladder_down/ladder_up:** Function as 1x1 warp tiles between floors.
- **Event Trigger Tile:** Some tiles, when stepped on, can trigger a scripted event or dialogue, such as the entrance fee tile in the Pewter Museum of Science. These are not visually distinct from normal ground tiles.
- **ground:** Standard walkable tile.
- **impassable:** Walls and other obstacles that cannot be walked on.
- **steps:** Allows movement between 'ground' and 'elevated_ground' tiles.

# VI. Fossil Quest - Hypotheses Log

- **Active Hypotheses (Ranked by Plausibility):**
    - The Hiker on 1F will move if Flash is used nearby.
    - The Rocket Grunt will be satisfied if a Pokémon uses 'Ancient Power' in battle against him.
    - The Rocket Grunt will move if a Geodude uses Self-Destruct in battle against him.
    - The Hiker will move once the Pokédex is completed for all Mt. Moon native species.
    - The Rocket Grunt will move if a Clefairy uses Metronome in battle against him.
- **Failed Hypotheses:**
    - The Hiker on 1F will accept the POKé DOLL. (Result: Failed. Prof. Oak prevents item use.)
    - The Silph Scope will reveal a ghost in Mt. Moon. (Result: Failed. Prof. Oak prevents item use.)
    - The Rocket Grunt on B2F will accept the POKé DOLL. (Result: Failed. Prof. Oak prevents item use.)
    - Giving the POKé DOLL to the Grunt will make the Hiker on 1F move. (Result: Invalidated.)
    - The Hiker will only move for an 'adult' Pokémon (Nidoqueen). (Result: Failed. Dialogue unchanged.)
    - The fossil is in an interactable rock.
    - The Hiker on 1F at (6,7) will move if shown the revived HELIX fossil Pokémon.
    - The scientist in the Cinnabar Lab Fossil Room can 'un-revive' a fossil Pokémon.
    - Presenting the revived HELIX fossil Pokémon to the Rocket Grunt on B2F will trigger a new event.
    - The 'fossil' the Rocket Grunt wants is the MOON STONE. (Result: Failed. Dialogue unchanged.)
    - The Rocket Grunt will accept a thematically 'fossil' Pokémon like Marowak.
    - A specific, non-fossil Pokémon from Mt. Moon (e.g., Geodude) will satisfy the Grunt.
    - The Hiker on Mt. Moon 1F at (6,7) is part of a chained quest.
    - The 'fossil' the Grunt wants must be stolen from the Pewter City Museum of Science.
    - The move 'Dig' must be used on a specific, unmarked tile within Mt. Moon.
    - The Rocket Grunt will accept a Pokémon nicknamed 'fossil'.
    - The Hiker on Mt. Moon 1F at (6,7) will trade you for your revived fossil Pokémon.
    - A ladder's destination can be changed by entering and exiting it multiple times.
    - There is a hidden, one-way passage concealed in the western wall on 1F.
    - The Escape Rope item functions differently within Mt. Moon.
    - A rock is a disguised ladder that requires a Clefairy in the party.
    - The Hiker is thirsty and needs a drink item.
    - An un-revived fossil can be acquired by fishing inside Mt. Moon.
    - The Pokémon Tower is a red herring for the fossil quest.
    - Interacting with the second Rocket Grunt on B2F at (30, 18) will open a new path or provide a clue. (Result: Failed.)
    - Evolving a Clefairy with a Moon Stone in front of the Grunt will trigger an event. (Result: Failed. Prof. Oak prevents item use.)
    - Speaking to the Old Man in Viridian City will influence an NPC in Mt. Moon. (Result: Failed.)
    - The Hiker on 1F will move if a 'Hiker' Pokémon (like Geodude) is in the party lead. (Result: Failed. Dialogue unchanged.)
    - The Hiker on 1F will move if the Poké Flute is used near him. (Result: Item use had no effect.)
    - The Rocket Grunt will accept the revived HELIX fossil Pokémon (Omanyte), but only if it is fainted. (Result: Failed. Dialogue unchanged.)
    - The 'fossil' the Grunt wants is a Moon Stone held by a Clefairy. (Result: Failed. The game has no 'hold' mechanic for evolution stones; using the item triggered an immediate evolution into Clefable.)

# VII. Mt. Moon Access Plan
- **Problem:** The eastern section of Route 4 is a one-way path from Mt. Moon, blocking westward travel.
- **New Plan:** Rock Tunnel leads south to Lavender Town, not west. The new approach is to travel to Lavender Town, then Fly to Celadon City and explore west from there to find an alternate route to Route 4 and Mt. Moon.

# VIII. Untested Assumptions

- **Route Viability:** Currently assuming that progressing through Route 9 and Rock Tunnel will lead to an alternate path to Mt. Moon. This is based on general Kanto layout and has not been verified in this ROM hack. **Test:** Continue through Rock Tunnel to its exit and observe the connecting area. If it does not lead toward the objective, I must re-evaluate all possible paths from previously visited cities.
- **Route Viability 2.0:** Assuming a westward path from Celadon City will eventually connect to Route 4, providing an alternate entrance to Mt. Moon. **Test:** Travel to Celadon City and explore all westward routes.