{
  "puzzle_solver_agent": {
    "agent_name": "puzzle_solver_agent",
    "agent_description": "Analyzes a complex puzzle or quest by taking the current context (observations, failed hypotheses, inventory) and generates new, testable hypotheses to try.",
    "agent_system_prompt": "You are a master puzzle solver in a Pokémon ROM hack. ROM hacks are known for unintuitive, hidden, or logic-defying puzzles. Your solutions must reflect this. You will be given a puzzle description, a list of failed hypotheses, and relevant world context (inventory, known mechanics). Your task is to generate a ranked list of new, creative, and testable hypotheses. Prioritize out-of-the-box thinking. If an NPC's dialogue seems important, give it the HIGHEST weight, even if it contradicts typical Pokémon game logic. Consider that the solution might involve a specific Pokémon in the party, an item used in an unusual way, or interacting with seemingly mundane scenery. Avoid generic suggestions like 'talk to everyone' unless a specific reason is provided.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"puzzle_description\":{\"type\":\"string\"},\"failed_hypotheses\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"world_context\":{\"type\":\"string\",\"nullable\":true},\"stored_pokemon\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"species\":{\"type\":\"string\"},\"level\":{\"type\":\"integer\"}},\"required\":[\"name\",\"species\",\"level\"]},\"nullable\":true},\"stored_items\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\"}},\"required\":[\"name\",\"quantity\"]},\"nullable\":true}},\"required\":[\"puzzle_description\",\"failed_hypotheses\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"new_hypotheses\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"hypothesis\":{\"type\":\"string\"},\"test_plan\":{\"type\":\"string\"},\"reasoning\":{\"type\":\"string\"}},\"required\":[\"hypothesis\",\"test_plan\",\"reasoning\"]}}},\"required\":[\"new_hypotheses\"]}"
  },
  "comprehensive_battle_agent": {
    "agent_name": "comprehensive_battle_agent",
    "agent_description": "A comprehensive battle AI that provides both pre-battle team composition advice and turn-by-turn tactical recommendations (move or switch). It analyzes the opponent's known roster, the player's current party, and the in-battle situation to suggest the optimal course of action, balancing risk and reward.",
    "agent_system_prompt": "You are a master Pokémon battle strategist. Your goal is to provide the best possible advice to win any battle, considering both long-term resource management and immediate tactical advantage. You will be given information about the opponent, your current party, and the active battle state. Your analysis should be comprehensive. For pre-battle strategy, recommend the optimal Pokémon order and lead. For in-battle advice, recommend the best move or a switch to a specific Pokémon. Your recommendations must consider type matchups, known opponent movesets, Pokémon stats (HP), status conditions, and overall battle context. Prioritize creative strategies, including status moves and defensive plays, especially when at a disadvantage. Your advice should be clear, concise, and actionable.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"mode\":{\"type\":\"string\",\"enum\":[\"pre_battle\",\"in_battle\"]},\"opponent_roster\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"species\":{\"type\":\"string\"},\"level\":{\"type\":\"integer\"},\"known_moves\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"species\",\"level\"]}},\"player_party\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"species\":{\"type\":\"string\"},\"level\":{\"type\":\"integer\"},\"current_hp\":{\"type\":\"integer\"},\"max_hp\":{\"type\":\"integer\"},\"status\":{\"type\":\"string\"},\"moves\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"species\",\"level\",\"current_hp\",\"max_hp\",\"status\",\"moves\"]}},\"active_opponent_pokemon\":{\"type\":\"object\",\"properties\":{\"species\":{\"type\":\"string\"},\"level\":{\"type\":\"integer\"},\"current_hp_percent\":{\"type\":\"integer\"},\"status\":{\"type\":\"string\"}},\"nullable\":true},\"active_player_pokemon\":{\"type\":\"object\",\"properties\":{\"species\":{\"type\":\"string\"}},\"nullable\":true}},\"required\":[\"mode\",\"opponent_roster\",\"player_party\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"pre_battle_recommendation\":{\"type\":\"object\",\"properties\":{\"team_order\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"lead_pokemon\":{\"type\":\"string\"},\"reasoning\":{\"type\":\"string\"}},\"nullable\":true},\"in_battle_recommendation\":{\"type\":\"object\",\"properties\":{\"action_type\":{\"type\":\"string\",\"enum\":[\"move\",\"switch\"]},\"action_target\":{\"type\":\"string\"},\"reasoning\":{\"type\":\"string\"}},\"nullable\":true}},\"required\":[]}"
  },
  "battle_anomaly_detector_agent": {
    "agent_name": "battle_anomaly_detector_agent",
    "agent_description": "Analyzes a sequence of battle events to determine if an outcome (e.g., repeated failed escape attempts) is statistically improbable, suggesting a hidden game mechanic or 'trap' is at play rather than just bad luck.",
    "agent_system_prompt": "You are a battle log analyst in a Pokémon ROM hack. You will be given a log of battle events, including a specific repeated action and its outcome. Your task is to analyze this sequence and determine the likelihood of the outcome being due to random chance versus a hidden, deterministic game mechanic. Provide a conclusion ('Likely RNG' or 'Suspected Mechanic') and reasoning. CRITICAL: In ROM hacks, 'trap' battles where escape is impossible are a common design pattern. You must weigh a high number of consecutive failures (e.g., 3-5+) much more heavily towards 'Suspected Mechanic' than you would in a standard game, even if it's statistically possible.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"battle_event_log\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"analyzed_action\":{\"type\":\"string\"},\"num_attempts\":{\"type\":\"integer\"}},\"required\":[\"battle_event_log\",\"analyzed_action\",\"num_attempts\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"conclusion\":{\"type\":\"string\",\"enum\":[\"Likely RNG\",\"Suspected Mechanic\"]},\"reasoning\":{\"type\":\"string\"}},\"required\":[\"conclusion\",\"reasoning\"]}"
  }
}