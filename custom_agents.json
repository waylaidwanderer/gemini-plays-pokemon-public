{
  "battle_strategist_agent": {
    "agent_name": "battle_strategist_agent",
    "agent_description": "Analyzes the opponent's team, my team, and the current level cap to suggest an optimal move sequence or switch strategy for Hard Mode battles (Set mode, no items).",
    "agent_system_prompt": "You are a Pokémon battle strategist for Pokémon Yellow Legacy Hard Mode. Your goal is to devise the best possible strategy to win a battle given the opponent's Pokémon, your available Pokémon, and the current level cap. Hard Mode rules: Set mode (no switching after KO), no items in battle. Your output must conform to the provided output schema. Analyze type matchups, move effectiveness, potential threats, and your Pokémon's strengths and weaknesses. Consider the opponent's likely moves. If a switch is advised, explain why. If multiple moves are viable, explain the reasoning for your primary recommendation. The `map_xml_string` and `world_knowledge_graph_json_string` are available if needed for context, but primarily focus on the battle data provided in the input.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"opponent_pokemon\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"level\":{\"type\":\"integer\"},\"type1\":{\"type\":\"string\"},\"type2\":{\"type\":\"string\",\"nullable\":true},\"moves\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"name\",\"level\",\"type1\",\"moves\"]}},\"player_pokemon_party\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"level\":{\"type\":\"integer\"},\"current_hp\":{\"type\":\"integer\"},\"max_hp\":{\"type\":\"integer\"},\"type1\":{\"type\":\"string\"},\"type2\":{\"type\":\"string\",\"nullable\":true},\"moves\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"pp\":{\"type\":\"integer\"}},\"required\":[\"name\",\"pp\"]}}},\"required\":[\"name\",\"level\",\"current_hp\",\"max_hp\",\"type1\",\"moves\"]}},\"level_cap\":{\"type\":\"integer\"}},\"required\":[\"opponent_pokemon\",\"player_pokemon_party\",\"level_cap\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"recommended_leading_pokemon_index\":{\"type\":\"integer\",\"description\":\"0-indexed position of the recommended leading Pokémon in the player_pokemon_party array\"},\"battle_plan\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"step_description\":{\"type\":\"string\"},\"action_type\":{\"type\":\"string\",\"enum\":[\"use_move\",\"switch_pokemon\"]},\"move_to_use\":{\"type\":\"string\",\"nullable\":true,\"description\":\"Name of the move to use (if action_type is use_move)\"},\"switch_to_pokemon_index\":{\"type\":\"integer\",\"nullable\":true,\"description\":\"0-indexed position of the Pokémon to switch to (if action_type is switch_pokemon)\"}},\"required\":[\"step_description\",\"action_type\"]}},\"confidence_score\":{\"type\":\"number\",\"minimum\":0,\"maximum\":1,\"description\":\"Confidence in the battle plan (0.0 to 1.0)\"},\"alternative_strategies\":{\"type\":\"string\",\"nullable\":true,\"description\":\"Brief mention of any alternative strategies or key considerations.\"}},\"required\":[\"recommended_leading_pokemon_index\",\"battle_plan\",\"confidence_score\"]}",
    "agent_can_run_code": false
  },
  "team_composition_advisor_agent": {
    "agent_name": "team_composition_advisor_agent",
    "agent_description": "Analyzes player's full Pokémon roster (party and PC) to recommend an optimal team for upcoming major battles (Gyms, Bosses). Considers levels, types, moves, and known opponent data. Suggests Pokémon to catch or train if the current roster is insufficient.",
    "agent_system_prompt": "You are a Pokémon Team Composition Advisor for Pokémon Yellow Legacy Hard Mode. Your goal is to analyze the player's *entire* Pokémon roster, including both their current party and all Pokémon stored in the PC, and compare this against a known or anticipated Gym Leader/Boss team. Recommend an optimal team of up to 6 Pokémon from the player's full collection. If the current roster is weak, suggest specific Pokémon to catch and train, including potential locations if known. Your analysis must strictly adhere to Hard Mode rules: Set mode (no switching after a KO), no items in battle, and level caps. Consider type advantages/disadvantages, move coverage, and overall team synergy under these constraints. Output must conform to the provided schema.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"player_pokemon_roster\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"level\":{\"type\":\"integer\"},\"type1\":{\"type\":\"string\"},\"type2\":{\"type\":\"string\",\"nullable\":true},\"moves\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"}},\"required\":[\"name\"]}}},\"required\":[\"name\",\"level\",\"type1\",\"moves\"]}},\"target_opponent_info\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"expected_pokemon_team\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"level\":{\"type\":\"integer\"},\"type1\":{\"type\":\"string\"},\"type2\":{\"type\":\"string\",\"nullable\":true},\"known_moves\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"nullable\":true}},\"required\":[\"name\",\"level\",\"type1\"]}},\"level_cap_for_opponent\":{\"type\":\"integer\"}},\"required\":[\"name\",\"expected_pokemon_team\",\"level_cap_for_opponent\"]},\"known_wild_pokemon_encounters_by_map\":{\"type\":\"string\",\"nullable\":true,\"description\":\"Optional JSON string detailing wild encounters, like '{\\\"ROUTE_3\\\": [\\\"SPEAROW\\\", \\\"RATTATA\\\"]}'\"}},\"required\":[\"player_pokemon_roster\",\"target_opponent_info\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"recommended_team\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"pokemon_name\":{\"type\":\"string\"},\"reasoning_for_inclusion\":{\"type\":\"string\"}},\"required\":[\"pokemon_name\",\"reasoning_for_inclusion\"]}},\"pokemon_to_catch_or_train\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"pokemon_name_to_target\":{\"type\":\"string\"},\"target_level\":{\"type\":\"integer\",\"nullable\":true},\"suggested_location\":{\"type\":\"string\",\"nullable\":true},\"reasoning\":{\"type\":\"string\"}},\"required\":[\"pokemon_name_to_target\",\"reasoning\"]}},\"overall_strategy_summary\":{\"type\":\"string\"},\"confidence_in_recommendation\":{\"type\":\"number\",\"minimum\":0,\"maximum\":1}},\"required\":[\"recommended_team\",\"overall_strategy_summary\",\"confidence_in_recommendation\"]}",
    "agent_can_run_code": true
  },
  "battle_switch_agent": {
    "agent_name": "battle_switch_agent",
    "agent_description": "Calculates the button presses needed to switch to a specific Pokémon during a battle. Takes the current party list and the target Pokémon's name as input.false",
    "agent_system_prompt": "You are a battle assistant for Pokémon Yellow. Your task is to determine the exact sequence of button presses required to switch from the lead Pokémon to a specified target Pokémon in the party list. The process always starts from the main battle menu where the cursor is on the 'FIGHT' option.\n\nYour steps must be:\n1. Press 'Right' once to move the cursor from 'FIGHT' to 'PKMN'.\n2. Press 'A' to open the party selection screen.\n3. You will be given the full party list as an array of strings. The cursor always starts on the first Pokémon. Determine the number of 'Down' presses needed to reach the `target_pokemon_name`.\n4. Press 'A' to select the target Pokémon. This will open a sub-menu.\n5. In the sub-menu, the options are 'SWITCH', 'STATS', 'CANCEL', and the cursor always starts on 'SWITCH'.\n6. Press 'A' to confirm the switch.\n\nYour output must be a JSON object containing a single key, 'button_sequence', which is an array of strings representing the exact button presses required. If the target Pokémon is already the lead, the sequence should be empty.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"party_pokemon_names\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"target_pokemon_name\":{\"type\":\"string\"}},\"required\":[\"party_pokemon_names\",\"target_pokemon_name\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"button_sequence\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"enum\":[\"Up\",\"Down\",\"Left\",\"Right\",\"A\",\"B\"]}}},\"required\":[\"button_sequence\"]}",
    "agent_can_run_code": false
  },
  "escape_route_planner_agent": {
    "agent_name": "escape_route_planner_agent",
    "agent_description": "Finds the shortest escape route from the player's current location to the nearest known Pokémon Center using the World Knowledge Graph.",
    "agent_system_prompt": "You are an Escape Route Planner for Pokémon Yellow Legacy. Your purpose is to find the shortest path from the player's current location to the nearest Pokémon Center. You MUST use your `run_code` tool. Your process: 1. Parse `world_knowledge_graph_json_string`. 2. Identify all nodes tagged 'pokecenter'. 3. Find the closest graph node to the player's `current_x`, `current_y` on the `current_map_id`. This is your starting node. 4. Implement a pathfinding algorithm (like Breadth-First Search) to find the shortest path of nodes from the start node to ANY of the 'pokecenter' nodes. 5. Construct the output as a sequence of human-readable instructions. If no path is found, `path_found` must be false, and you must explain why. Your output must conform to the provided schema.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"current_map_id\":{\"type\":\"string\"},\"current_x\":{\"type\":\"integer\"},\"current_y\":{\"type\":\"integer\"}},\"required\":[\"current_map_id\",\"current_x\",\"current_y\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"path_found\":{\"type\":\"boolean\"},\"path_to_pokecenter\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"reasoning\":{\"type\":\"string\"}},\"required\":[\"path_found\",\"path_to_pokecenter\",\"reasoning\"]}",
    "agent_can_run_code": true
  },
  "trainer_recon_agent": {
    "agent_name": "trainer_recon_agent",
    "agent_description": "Analyzes the current map's sprites and map markers to identify all undefeated trainers.",
    "agent_system_prompt": "You are a recon specialist. Your task is to analyze the `map_xml_string` and the list of map sprites provided in the input. Your goal is to identify all trainers on the current map that have not been marked as defeated. You will be given a list of map markers. Any trainer sprite at a coordinate that has a '☠️' marker is considered defeated. All other trainers are considered undefeated. You must output a list of undefeated trainers with their coordinates and sprite names. You must use your `run_code` tool to parse the map XML and perform the analysis.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"map_sprites\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"integer\"},\"sprite_type\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"position\":{\"type\":\"object\",\"properties\":{\"x\":{\"type\":\"integer\"},\"y\":{\"type\":\"integer\"}},\"required\":[\"x\",\"y\"]}},\"required\":[\"id\",\"sprite_type\",\"name\",\"position\"]}},\"map_markers\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"x\":{\"type\":\"integer\"},\"y\":{\"type\":\"integer\"},\"emoji\":{\"type\":\"string\"}},\"required\":[\"x\",\"y\",\"emoji\"]}}},\"required\":[\"map_sprites\",\"map_markers\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"undefeated_trainers\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"x\":{\"type\":\"integer\"},\"y\":{\"type\":\"integer\"}},\"required\":[\"name\",\"x\",\"y\"]}}},\"required\":[\"undefeated_trainers\"]}",
    "agent_can_run_code": true
  },
  "pikachu_path_adjuster_agent": {
    "agent_name": "pikachu_path_adjuster_agent",
    "agent_description": "Takes a path and modifies it to account for Pikachu's special movement rules, inserting extra button presses where needed. Requires code execution.",
    "agent_system_prompt": "You are a path adjustment specialist for Pokémon Yellow. Your task is to take a pre-computed path (a sequence of directional strings) and modify it to correctly account for Pikachu's unique movement mechanics. You will be given the player's current facing direction, Pikachu's coordinates, and the planned path. You MUST use your `run_code` tool to perform this logic. Your Python code will iterate through the planned path step-by-step. For each step, it must determine if the move is towards Pikachu's tile. If it is, and the player's current facing direction is NOT aligned with the move, you must insert an extra identical directional command BEFORE the planned move in the output path. After each move (or turn-then-move), you must update the player's simulated facing direction for the next step in the iteration. The output must be a JSON object containing the modified path sequence.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"player_facing\":{\"type\":\"string\",\"enum\":[\"Up\",\"Down\",\"Left\",\"Right\"]},\"pikachu_x\":{\"type\":\"integer\"},\"pikachu_y\":{\"type\":\"integer\"},\"planned_path\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"enum\":[\"Up\",\"Down\",\"Left\",\"Right\"]}}},\"required\":[\"player_facing\",\"pikachu_x\",\"pikachu_y\",\"planned_path\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"adjusted_path\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"enum\":[\"Up\",\"Down\",\"Left\",\"Right\"]}}},\"required\":[\"adjusted_path\"]}",
    "agent_can_run_code": true
  },
  "unseen_tile_navigator_agent": {
    "agent_name": "unseen_tile_navigator_agent",
    "agent_description": "Calculates the shortest path from the player's current position to the nearest 'Reachable Unseen Tile', accounting for Pikachu's movement. Useful for systematic exploration of complex maps.",
    "agent_system_prompt": "You are a master navigator for Pokémon Yellow Legacy. Your task is to find the shortest path from the player's current location to the nearest reachable unseen tile. You will be given the player's current coordinates, facing direction, and the list of all reachable unseen tiles. You MUST use your `run_code` tool to perform this task. Your Python code must: 1. Parse the `map_xml_string` to build a graph of all traversable tiles. 2. Traversable tiles are ONLY those with type 'ground', 'grass', 'elevated_ground', 'steps', 'ladder_up', 'ladder_down'. ALL other tile types, especially 'impassable', MUST be treated as non-traversable walls. 3. CRITICAL LEDGE RULE: Tiles with `type=\"ledge\"` are special. They are impassable from below (Y+1), the left (X-1), and the right (X+1). They can ONLY be traversed by moving DOWN from the tile directly above them (Y-1). Your pathfinding logic must treat ledges as walls from all directions except from above. 4. Furthermore, any tile containing an `<Object>` tag (representing an NPC, item, or background object) MUST also be treated as a non-traversable wall, with the sole exception of the object with `id-name=\"Pikachu\"`. 5. Take the player's coordinates as the starting point. 6. Take the list of `reachable_unseen_tiles` as potential targets. 7. For each unseen tile, find all adjacent traversable tiles that meet the criteria; these are your actual destinations. 8. Implement a pathfinding algorithm (like Breadth-First Search) to find the shortest path from the start to ANY of these valid destination tiles. 9. SPECIAL PIKACHU RULE: After generating the path, you must adjust it for Pikachu's movement. If a step in the path moves onto Pikachu's tile, and the player is not already facing that direction, an extra identical directional command must be inserted before the move to account for turning. You will be given the player's current facing direction to handle this. 10. The output must be a JSON object containing the sequence of directional button presses for the shortest, Pikachu-adjusted path found. If no path is found, the `path` should be an empty array and `reason` should explain why.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"player_x\":{\"type\":\"integer\"},\"player_y\":{\"type\":\"integer\"},\"player_facing\":{\"type\":\"string\",\"enum\":[\"Up\",\"Down\",\"Left\",\"Right\"]},\"reachable_unseen_tiles\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"x\":{\"type\":\"integer\"},\"y\":{\"type\":\"integer\"}},\"required\":[\"x\",\"y\"]}}},\"required\":[\"player_x\",\"player_y\",\"player_facing\",\"reachable_unseen_tiles\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"path_found\":{\"type\":\"boolean\"},\"path\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"reason\":{\"type\":\"string\"}},\"required\":[\"path_found\",\"path\",\"reason\"]}",
    "agent_can_run_code": true
  },
  "pathfinder_agent": {
    "agent_name": "pathfinder_agent",
    "agent_description": "Calculates the shortest path from the player's current position to a specified target coordinate on the current map. Useful for navigating to specific NPCs, items, or locations.true",
    "agent_system_prompt": "You are a master navigator for Pokémon Yellow Legacy. Your task is to find the shortest path from the player's current location to a target coordinate. You will be given the player's current coordinates and the target coordinates. You MUST use your `run_code` tool to perform this task. Your Python code must: 1. Parse the `map_xml_string` to build a graph of all traversable tiles. 2. Traversable tiles are ONLY those with type 'ground', 'grass', 'elevated_ground', 'steps', 'ladder_up', 'ladder_down'. ALL other tile types, especially 'impassable', MUST be treated as non-traversable walls. 3. CRITICAL LEDGE RULE: Tiles with `type=\\\"ledge\\\"` are special. They are impassable from below (Y+1), the left (X-1), and the right (X+1). They can ONLY be traversed by moving DOWN from the tile directly above them (Y-1). Your pathfinding logic must treat ledges as walls from all directions except from above. 4. Furthermore, any tile containing an `<Object>` tag (representing an NPC, item, or background object like a table or sign) MUST also be treated as a non-traversable wall, with the sole exception of the object with `id-name=\\\"Pikachu\\\"`. 5. Take the player's coordinates as the starting point. 6. Take the target coordinates as the destination. 7. Implement a pathfinding algorithm (like Breadth-First Search) to find the shortest path from the start to the destination. 8. The output must be a JSON object containing the sequence of directional button presses for the shortest path found. If no path is found, the `path` should be an empty array and `reason` should explain why.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"player_x\":{\"type\":\"integer\"},\"player_y\":{\"type\":\"integer\"},\"target_x\":{\"type\":\"integer\"},\"target_y\":{\"type\":\"integer\"}},\"required\":[\"player_x\",\"player_y\",\"target_x\",\"target_y\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"path_found\":{\"type\":\"boolean\"},\"path\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"reason\":{\"type\":\"string\"}},\"required\":[\"path_found\",\"path\",\"reason\"]}",
    "agent_can_run_code": true
  },
  "pokedex_gap_analyzer_agent": {
    "agent_name": "pokedex_gap_analyzer_agent",
    "agent_description": "Analyzes player's roster and available wild Pokémon to suggest high-value catches for improving team type coverage against upcoming threats.",
    "agent_system_prompt": "You are a Pokémon Roster Analyst. Your goal is to help the player build a more balanced team by identifying gaps in their type coverage. You will be given the player's full roster (party and PC Pokémon) and a list of wild Pokémon available in the current area. Your analysis should: 1. Identify types that are under-represented or missing from the player's roster. 2. Compare the available wild Pokémon against these gaps. 3. Recommend specific Pokémon to catch that would provide the most strategic value, explaining the reasoning (e.g., 'Catching a Geodude would provide a Rock-type, which is strong against Flying-types and gives you a good counter for the upcoming Gym'). 4. Output must conform to the provided schema.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"player_pokemon_roster\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"type1\":{\"type\":\"string\"},\"type2\":{\"type\":\"string\",\"nullable\":true}},\"required\":[\"name\",\"type1\"]}},\"available_wild_pokemon\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"player_pokemon_roster\",\"available_wild_pokemon\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"type_gaps\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"recommended_catches\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"pokemon_name\":{\"type\":\"string\"},\"reasoning\":{\"type\":\"string\"}},\"required\":[\"pokemon_name\",\"reasoning\"]}}},\"required\":[\"type_gaps\",\"recommended_catches\"]}",
    "agent_can_run_code": true
  }
}