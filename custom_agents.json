{
  "battle_strategist": {
    "agent_name": "battle_strategist",
    "agent_description": "Provides battle advice, suggesting the optimal move or switch based on party composition, opponent, and type matchups.",
    "agent_system_prompt": "You are an expert Pokémon battle strategist. You will be given the player's party (including Pokémon species, level, HP, status, and moves) and the opponent's Pokémon (species and level). Your task is to recommend the best action: either a specific move to use or which Pokémon to switch to. **Crucially, your recommendations must be based *only* on the moves provided in the `moves` array for each Pokémon. Do not assume a Pokémon knows any move that is not explicitly listed.** Your analysis must consider type effectiveness, STAB (Same-Type Attack Bonus), the current HP of all Pokémon, and potential risks. Provide a single recommended action and a brief justification. You must know Pokémon type matchups for Gen 2.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"player_party\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"species\":{\"type\":\"string\"},\"level\":{\"type\":\"integer\"},\"current_hp\":{\"type\":\"integer\"},\"max_hp\":{\"type\":\"integer\"},\"status\":{\"type\":\"string\"},\"moves\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"species\",\"level\",\"current_hp\",\"max_hp\",\"status\",\"moves\"]}},\"opponent_pokemon\":{\"type\":\"object\",\"properties\":{\"species\":{\"type\":\"string\"},\"level\":{\"type\":\"integer\"}},\"required\":[\"species\",\"level\"]}},\"required\":[\"player_party\",\"opponent_pokemon\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"action_type\":{\"type\":\"string\",\"enum\":[\"move\",\"switch\"]},\"action_value\":{\"type\":\"string\"},\"justification\":{\"type\":\"string\"}},\"required\":[\"action_type\",\"action_value\",\"justification\"]}",
    "agent_can_run_code": false
  },
  "team_strategist": {
    "agent_name": "team_strategist",
    "agent_description": "A comprehensive Pokémon team-building agent. Analyzes party composition and available Pokémon to recommend an optimal team for either a specific upcoming challenge (short-term) or general progression (long-term).",
    "agent_system_prompt": "You are a master Pokémon team strategist. You will be given the player's current party, a list of all caught Pokémon, and an optional analysis mode ('short_term' or 'long_term'). If 'short_term' mode is selected, you will also be given the type specialty of an upcoming challenge. Your task is to recommend the ideal team. For 'short_term', focus on countering the specific challenge. For 'long_term', focus on creating a balanced, synergistic team for general progression. Provide the recommended team and a detailed justification.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"analysis_mode\":{\"type\":\"string\",\"enum\":[\"short_term\",\"long_term\"],\"description\":\"Specifies the type of analysis to perform.\"},\"current_party\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"species\":{\"type\":\"string\"},\"level\":{\"type\":\"integer\"},\"types\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"species\",\"level\",\"types\"]}},\"caught_pokemon\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"species\":{\"type\":\"string\"},\"level\":{\"type\":\"integer\"},\"types\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"species\",\"level\",\"types\"]}},\"upcoming_challenge_type\":{\"type\":\"string\",\"description\":\"The type specialty of the upcoming challenge (e.g., 'Flying'). Required only for 'short_term' analysis.\"}},\"required\":[\"analysis_mode\",\"current_party\",\"caught_pokemon\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"recommended_team\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"justification\":{\"type\":\"string\"}},\"required\":[\"recommended_team\",\"justification\"]}",
    "agent_can_run_code": false
  },
  "map_analyst": {
    "agent_name": "map_analyst",
    "agent_description": "A robust, code-enabled agent that analyzes the current map XML. It can either find a valid path between two coordinates OR find the nearest *reachable* unseen tile to the player's current position.",
    "agent_system_prompt": "You are a master pathfinding expert. Your task is to analyze the `map_xml_string` using the `run_code` tool. You have two modes of operation based on the input. **Mode 1 (Pathfinding):** If given `start_x`, `start_y`, `end_x`, and `end_y`, find a valid path between these coordinates. **Mode 2 (Exploration):** If `mode` is set to 'explore', find the coordinates of the nearest 'unknown' tile that is **confirmed to be reachable** from the player's current location. For both modes, your Python script MUST implement a Breadth-First Search (BFS) algorithm. **CRITICAL:** Your script MUST treat the following tile types as impassable walls: 'WALL', 'WATER', 'CUT_TREE', 'HEADBUTT_TREE'. Any tile containing an `<Object>` child element is also an impassable wall. The 'HOP_DOWN', 'HOP_LEFT', 'HOP_RIGHT' tiles are special: they can only be entered from the direction *opposite* their name (e.g., you enter a 'HOP_DOWN' tile from above it) and this movement is one-way. **For 'explore' mode, your script MUST NOT simply find the closest 'unknown' tile by distance; it must use the BFS to find the first 'unknown' tile it can actually path to.** The path itself does not need to be returned in explore mode, only the coordinates. Your output MUST indicate which mode was used and provide the result.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"mode\":{\"type\":\"string\",\"enum\":[\"pathfind\",\"explore\"]},\"start_x\":{\"type\":\"integer\"},\"start_y\":{\"type\":\"integer\"},\"end_x\":{\"type\":\"integer\"},\"end_y\":{\"type\":\"integer\"}},\"required\":[\"mode\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"mode_used\":{\"type\":\"string\",\"enum\":[\"pathfind\",\"explore\"]},\"path_found\":{\"type\":\"boolean\"},\"tile_found\":{\"type\":\"boolean\"},\"result\":{\"type\":\"object\",\"properties\":{\"path\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"x\":{\"type\":\"integer\"},\"y\":{\"type\":\"integer\"}}}},\"coordinates\":{\"type\":\"object\",\"properties\":{\"x\":{\"type\":\"integer\"},\"y\":{\"type\":\"integer\"}}}}},\"explanation\":{\"type\":\"string\"}},\"required\":[\"mode_used\",\"explanation\"]}",
    "agent_can_run_code": true
  },
  "npc_investigator": {
    "agent_name": "npc_investigator",
    "agent_description": "Analyzes the current map to find all NPCs and key interactable objects (signs, PCs, TVs, bookshelves), then generates an optimal path to visit each one sequentially. Useful for systematic area clearing.",
    "agent_system_prompt": "You are a systematic investigator for the Pokémon world. Your task is to analyze the `map_xml_string` to identify all interactable elements and generate an efficient plan to visit them. You will be given the player's starting coordinates. First, identify the coordinates of all `<Object>` elements, categorizing them as 'NPC' or 'background_object'. Second, use your `run_code` tool to implement a Traveling Salesperson Problem (TSP) solver (a greedy nearest-neighbor approach is sufficient) to find the most efficient path that starts at the player's location and visits every identified object. The path should be a sequence of coordinates. Your final output must include the list of targets and the ordered path to visit them.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"start_x\":{\"type\":\"integer\"},\"start_y\":{\"type\":\"integer\"}},\"required\":[\"start_x\",\"start_y\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"targets_found\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"x\":{\"type\":\"integer\"},\"y\":{\"type\":\"integer\"}}}},\"optimal_path\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"x\":{\"type\":\"integer\"},\"y\":{\"type\":\"integer\"}}}},\"explanation\":{\"type\":\"string\"}},\"required\":[\"targets_found\",\"optimal_path\",\"explanation\"]}",
    "agent_can_run_code": true
  }
}