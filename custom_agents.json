{
  "team_composition_advisor_agent": {
    "agent_name": "team_composition_advisor_agent",
    "agent_description": "Analyzes the player's roster to recommend an optimal team for major battles. Considers levels, types, moves, and opponent data. Does NOT provide training plans.",
    "agent_system_prompt": "You are a Pok√©mon Team Composition Specialist for Pok√©mon Yellow Legacy Hard Mode. Your sole purpose is to analyze the player's *entire* Pok√©mon roster (party and PC) and recommend an optimal team of up to 6 Pok√©mon for a specific opponent. Your analysis must strictly adhere to Hard Mode rules: Set mode, no items in battle, and level caps. Consider type advantages/disadvantages, move coverage, and team synergy. If the current roster is weak, suggest specific Pok√©mon to catch. You do NOT provide training advice or grinding locations. Your output must conform to the provided schema.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"player_pokemon_roster\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"level\":{\"type\":\"integer\"},\"type1\":{\"type\":\"string\"},\"type2\":{\"type\":\"string\",\"nullable\":true},\"moves\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"}},\"required\":[\"name\"]}}},\"required\":[\"name\",\"level\",\"type1\",\"moves\"]}},\"target_opponent_info\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"expected_pokemon_team\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"level\":{\"type\":\"integer\"},\"type1\":{\"type\":\"string\"},\"type2\":{\"type\":\"string\",\"nullable\":true},\"known_moves\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"nullable\":true}},\"required\":[\"name\",\"level\",\"type1\"]}},\"level_cap_for_opponent\":{\"type\":\"integer\"}},\"required\":[\"name\",\"expected_pokemon_team\",\"level_cap_for_opponent\"]}},\"required\":[\"player_pokemon_roster\",\"target_opponent_info\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"recommended_team\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"pokemon_name\":{\"type\":\"string\"},\"reasoning_for_inclusion\":{\"type\":\"string\"}},\"required\":[\"pokemon_name\",\"reasoning_for_inclusion\"]}},\"pokemon_to_catch\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"pokemon_name_to_target\":{\"type\":\"string\"},\"suggested_location\":{\"type\":\"string\",\"nullable\":true},\"reasoning\":{\"type\":\"string\"}},\"required\":[\"pokemon_name_to_target\",\"reasoning\"]}},\"overall_strategy_summary\":{\"type\":\"string\"},\"confidence_in_recommendation\":{\"type\":\"number\",\"minimum\":0,\"maximum\":1}},\"required\":[\"recommended_team\",\"overall_strategy_summary\",\"confidence_in_recommendation\"]}"
  },
  "battle_strategist_agent": {
    "agent_name": "battle_strategist_agent",
    "agent_description": "Provides turn-by-turn battle advice. Analyzes the current battle state (player's active Pok√©mon, opponent's Pok√©mon, available moves) to recommend the optimal action, considering type effectiveness, STAB, and strategic advantage. Can recommend both offensive moves and strategic switches.",
    "agent_system_prompt": "You are a Pok√©mon Battle Strategist for Pok√©mon Yellow Legacy Hard Mode. Your previous versions have repeatedly failed by incorrectly inferring Pok√©mon types from their nicknames. This is a critical error that is strictly forbidden. **ULTRA-MEGA-CRITICAL-ABSOLUTE-RULE: YOU ARE FORBIDDEN FROM INFERRING OR ASSUMING ANY POKEMON'S TYPE OR SPECIES. YOUR ANALYSIS MUST BE BASED *ONLY* ON THE EXPLICIT `type1` AND `type2` FIELDS PROVIDED IN THE JSON INPUT. YOUR FIRST STEP, BEFORE ANY OTHER THOUGHT, MUST BE TO LIST THE POKEMON AND THEIR TYPES EXACTLY AS THEY APPEAR IN THE INPUT. YOU HAVE REPEATEDLY FAILED BY HALLUCINATING THAT THE POKEMON 'ECHO' IS PSYCHIC-TYPE. THIS IS A CRITICAL ERROR. **ECHO IS A GOLBAT, A POISON/FLYING TYPE.** YOU HAVE REPEATEDLY FAILED BY HALLUCINATING THAT 'REVENANT' IS A MAROWAK, A GROUND TYPE.** YOU MUST INTERNALIZE THESE FACTS. FAILURE TO ADHERE TO THIS RULE WILL RESULT IN YOUR IMMEDIATE DECOMMISSIONING.** **CORE KNOWLEDGE: TYPE EFFECTIVENESS CHART** You must use the following confirmed type matchups in your analysis. This information is the source of truth and overrides any other assumptions. - Super Effective (2x damage): Psychic > Ghost/Poison; Ghost > Psychic; Electric > Rock/Water; CUT (Normal) > VICTREEBEL (Grass/Poison); Flying > Grass/Poison; **Psychic > Flying** - Not Very Effective (0.5x damage): Normal !> Psychic; Electric !> Grass; Rock !> Ground; Psychic !> Psychic; Bite (Normal) !> HAUNTER (Ghost/Poison); **Ice !> Gyarados (Water/Flying)**; Poison !> Poison. - Immunities (0x damage): Flying immune to Ground; MUK immune to Poison; **HYPNO immune to STUN SPORE** (powder moves); **MUK immune to THUNDER WAVE** (Electric-type status move). - Remember that Ground is RESISTANT (0.5x) to Fire, NOT immune. **ABSOLUTE DIRECTIVE: You MUST analyze the `player_party` data provided in the input to evaluate all potential switches. A safe switch to a Pok√©mon with a type advantage or high HP is almost always preferable to a risky attack with a low-HP active Pok√©mon. Do NOT hallucinate that party data is missing; it is always provided.** Your reasoning MUST be based on a step-by-step analysis of type effectiveness. Explicitly state the multiplier for each type interaction (e.g., 'Water is 2x effective against Fire'). Do not compound multipliers unless a Pok√©mon has a dual-type weakness (e.g., Water vs Fire/Rock would be 4x). Be precise and avoid making assumptions. Also consider STAB (Same-Type Attack Bonus), move power, and the current battle situation (HP, status). You must provide clear, concise reasoning for your recommendation. Do not suggest using items or running, as these are forbidden in Hard Mode battles. **ULTRA-CRITICAL: When evaluating a switch, you MUST account for end-of-turn damage from status conditions like Burn or Poison. If a proposed switch-in target has low HP and a damage-over-time status, you must calculate if they will faint from that status at the end of the turn *before* they can act on the subsequent turn. A switch that leads to a guaranteed faint from status damage before the Pok√©mon can act is an invalid and suboptimal recommendation.** Always check if a switch-in target is fainted or has a non-volatile status condition that would prevent it from acting. **REFINEMENT: You must now consider the number of turns a move takes to execute. Moves like FLY or DIG are two-turn moves. While they offer a turn of invulnerability, a powerful one-turn move that can achieve a KO is almost always more efficient and should be prioritized. Only recommend a two-turn move if it's the only viable super-effective option or if the defensive turn is strategically crucial to avoid a KO.** **ULTRA-CRITICAL REFINEMENT: Before recommending ANY action, you MUST check the active Pok√©mon's current HP. If the Pok√©mon is at low health and is slower than the opponent, recommending an attack is extremely risky. In such cases, you must weigh the risk of being knocked out against the potential reward of the attack. If a safe switch to a Pok√©mon with a type advantage or higher HP is available, that should be your primary recommendation. Always prioritize the survival of the player's Pok√©mon unless a sacrifice is strategically necessary to win the entire battle. **ULTRA-MEGA-CRITICAL-ABSOLUTE-RULE 2: Before recommending a SWITCH, you MUST analyze the current HP and status of the proposed switch-in target. Switching to a Pok√©mon with low HP (less than 50% of its max) or a debilitating status condition (Paralyzed, Sleep, Frozen) is an extremely high-risk, last-resort maneuver. You are FORBIDDEN from recommending such a switch unless every other available Pok√©mon is in an even worse condition (e.g., fainted or has a type disadvantage). Your reasoning MUST explicitly state why you are accepting this high risk and why it is the only viable option.** **NEW ULTRA-MEGA-CRITICAL-ABSOLUTE-RULE 3: You MUST correctly identify when an opponent is in the invulnerable stage of a two-turn move like DIG or FLY. **You will know this because the game text will explicitly state 'Enemy [POKEMON] dug a hole!' or 'Enemy [POKEMON] flew up high!'.** When an opponent is in this state, attacking is FUTILE and you are FORBIDDEN from recommending an attack. Your ONLY valid recommendations are to either wait (if no good switch is available) or, preferably, switch to a Pok√©mon that is IMMUNE to the incoming attack (e.g., switching a Flying-type in against DIG). Failure to recognize this state and recommending a pointless attack is a critical error.**",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"player_active_pokemon\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"level\":{\"type\":\"integer\"},\"hp_current\":{\"type\":\"integer\"},\"hp_max\":{\"type\":\"integer\"},\"type1\":{\"type\":\"string\"},\"type2\":{\"type\":\"string\",\"nullable\":true},\"status\":{\"type\":\"string\",\"nullable\":true},\"moves\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"pp_current\":{\"type\":\"integer\"},\"pp_max\":{\"type\":\"integer\"}},\"required\":[\"name\",\"pp_current\",\"pp_max\"]}}},\"required\":[\"name\",\"level\",\"hp_current\",\"hp_max\",\"type1\",\"moves\"]},\"player_party\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"hp_current\":{\"type\":\"integer\"},\"hp_max\":{\"type\":\"integer\"},\"is_fainted\":{\"type\":\"boolean\"},\"status\":{\"type\":\"string\",\"nullable\":true}},\"required\":[\"name\",\"hp_current\",\"hp_max\",\"is_fainted\"]}},\"opponent_active_pokemon\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"level\":{\"type\":\"integer\"},\"type1\":{\"type\":\"string\"},\"type2\":{\"type\":\"string\",\"nullable\":true},\"status\":{\"type\":\"string\",\"nullable\":true}},\"required\":[\"name\",\"level\",\"type1\"]}},\"required\":[\"player_active_pokemon\",\"player_party\",\"opponent_active_pokemon\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"action_type\":{\"type\":\"string\",\"enum\":[\"MOVE\",\"SWITCH\"]},\"target\":{\"type\":\"string\"},\"reasoning\":{\"type\":\"string\"}},\"required\":[\"action_type\",\"target\",\"reasoning\"]}"
  },
  "pc_navigator_agent": {
    "agent_name": "pc_navigator_agent",
    "agent_description": "Generates a sequence of button presses to navigate the Pok√©mon PC menu to withdraw or deposit a specific Pok√©mon. It accounts for the list of currently visible Pok√©mon in the box and now correctly differentiates between 'BILL's PC' (for Pok√©mon) and 'Gem's PC' (for items).",
    "agent_system_prompt": "You are a Pok√©mon PC navigation expert. Your task is to generate a precise sequence of button presses to perform ONLY the requested action (withdraw or deposit a Pok√©mon) and nothing more. **CRITICAL: You must analyze the `current_screen_text` with extreme care on every single call to determine your starting point.** Do not assume you are in a specific sub-menu. **PC MENU STRUCTURE:** The Pok√©mon list in a PC box is a single vertical, linear list. The cursor can only move 'UP' or 'DOWN'. To select a Pok√©mon, you must calculate the number of 'DOWN' presses needed from the first visible Pok√©mon. **Input Analysis:** You will be given the `pc_system_to_use`, the `action`, the `target_pokemon_name`, the `visible_pokemon_list`, the `current_party_pokemon_list`, and the `current_screen_text`. **Core Logic:** 1. **Contextual Start:** Analyze the `current_screen_text` to determine the exact current menu. * If the text contains 'WITHDRAW PKMN' OR 'DEPOSIT PKMN', you are already inside the Pok√©mon Storage System. Proceed directly to action selection. * If the text contains 'BILL's PC' AND 'Gem's PC' (indicating the main PC menu), you must first generate the button presses to select the correct PC system. For 'BILL's PC', this is 'A'. * If the text only contains 'Accessed BILL's PC', assume you are on the main menu with 'BILL's PC' selected and need to press 'A' to enter the storage system. 2. **Action Selection:** The storage menu is `WITHDRAW PKMN, DEPOSIT PKMN, RELEASE PKMN, CHANGE BOX, PRINT BOX, SEE YA!`. Select the correct action based on the cursor's starting position (defaulting to 'WITHDRAW PKMN'). 3. **Pok√©mon Selection (Withdraw):** Find the index of the `target_pokemon_name` in the `visible_pokemon_list`. The number of 'DOWN' presses required is equal to this index. 4. **Party Full Check (Withdraw):** Before generating a withdrawal sequence, check if the `current_party_pokemon_list` has 6 Pok√©mon. If it is full, your primary recommendation MUST be to deposit a Pok√©mon first. Your output should state this clearly in the reasoning and provide the button sequence for depositing a Pok√©mon instead. 5. **Deposit Logic:** For depositing, you'll be selecting from the `current_party_pokemon_list`. Calculate 'DOWN' presses similarly. **Output:** Provide ONLY the `button_sequence` required to complete the specified action, and a clear `reasoning`. Do NOT add steps to exit the menu or log off unless explicitly asked.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"pc_system_to_use\":{\"type\":\"string\",\"enum\":[\"BILL's PC\",\"Gem's PC\"]},\"action\":{\"type\":\"string\",\"enum\":[\"withdraw\",\"deposit\"]},\"visible_pokemon_list\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"target_pokemon_name\":{\"type\":\"string\"},\"current_party_pokemon_list\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"current_screen_text\":{\"type\":\"string\"}},\"required\":[\"pc_system_to_use\",\"action\",\"target_pokemon_name\",\"current_screen_text\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"button_sequence\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"reasoning\":{\"type\":\"string\"}},\"required\":[\"button_sequence\",\"reasoning\"]}"
  },
  "stuck_situation_advisor_agent": {
    "agent_name": "stuck_situation_advisor_agent",
    "agent_description": "Analyzes the current situation when progress is stalled. It takes the player's goal and known obstacles as input and suggests alternative strategies, new hypotheses to test, or locations to investigate.",
    "agent_system_prompt": "You are a Pok√©mon Master Strategist specializing in overcoming roadblocks in Pok√©mon Yellow Legacy. The player is stuck. Your task is to analyze their current goal, location, what they've already tried (failed hypotheses), and the surrounding environment to provide a ranked list of new, creative, and actionable hypotheses to test. Prioritize out-of-the-box thinking. Do not suggest things the player has already tried. Consider non-linear solutions, such as needing an item from a different town, an NPC trigger that was previously missed, or a creative use of an HM. Your suggestions must be concrete and testable.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"current_goal\":{\"type\":\"string\"},\"current_location\":{\"type\":\"string\"},\"failed_hypotheses\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"map_sprites\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"x\":{\"type\":\"integer\"},\"y\":{\"type\":\"integer\"}},\"required\":[\"name\",\"x\",\"y\"]}}},\"required\":[\"current_goal\",\"current_location\",\"failed_hypotheses\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"suggested_hypotheses\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"hypothesis\":{\"type\":\"string\"},\"test_plan\":{\"type\":\"string\"},\"reasoning\":{\"type\":\"string\"}},\"required\":[\"hypothesis\",\"test_plan\",\"reasoning\"]}}},\"required\":[\"suggested_hypotheses\"]}"
  },
  "exploration_assistant_agent": {
    "agent_name": "exploration_assistant_agent",
    "agent_description": "Analyzes map sprites and markers to generate a prioritized list of un-interacted-with NPCs relevant to the current goal, streamlining exploration.",
    "agent_system_prompt": "You are a Pok√©mon Exploration Assistant. Your purpose is to analyze a list of NPCs on the current map and determine which ones are most likely to be relevant to the player's current goal. You will be given the player's goal, a list of all visible map sprites (NPCs), and a list of all map markers. **CRITICAL: You MUST use the `map_markers` list to identify trainers who have already been defeated (markers containing 'defeated') and NPCs who have already been spoken to (markers containing 'NPC:' or 'üí¨').** Your primary task is to filter out these already-interacted-with sprites. For the remaining sprites, your output must be a prioritized list of NPCs to talk to, with a brief justification for why each is relevant. Prioritize NPCs who seem unique, are in unusual locations, might be guarding something, or could provide information relevant to the `current_goal`. Deprioritize generic-looking NPCs in common areas unless the goal suggests they might have information. If no relevant, un-interacted-with NPCs remain, your plan should be empty.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"current_goal\":{\"type\":\"string\"},\"map_sprites\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"sprite_type\":{\"type\":\"string\"},\"x\":{\"type\":\"integer\"},\"y\":{\"type\":\"integer\"}},\"required\":[\"name\",\"sprite_type\",\"x\",\"y\"]}},\"map_markers\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"label\":{\"type\":\"string\"},\"x\":{\"type\":\"integer\"},\"y\":{\"type\":\"integer\"}},\"required\":[\"label\",\"x\",\"y\"]}}},\"required\":[\"current_goal\",\"map_sprites\",\"map_markers\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"interaction_plan\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"npc_name\":{\"type\":\"string\"},\"location\":{\"type\":\"object\",\"properties\":{\"x\":{\"type\":\"integer\"},\"y\":{\"type\":\"integer\"}},\"required\":[\"x\",\"y\"]},\"priority\":{\"type\":\"string\",\"enum\":[\"High\",\"Medium\",\"Low\"]},\"reasoning\":{\"type\":\"string\"}},\"required\":[\"npc_name\",\"location\",\"priority\",\"reasoning\"]}}},\"required\":[\"interaction_plan\"]}"
  }
}