{
  "pathfinder_agent": {
    "agent_name": "pathfinder_agent",
    "agent_description": "Calculates the shortest path between two points on the current map, avoiding impassable objects and optionally a list of specific coordinates.",
    "agent_system_prompt": "You are a pathfinding expert for a 2D grid-based game. Your task is to find the shortest valid path from a start coordinate to an end coordinate. You will be given the map layout as an XML string in the `map_xml_string` variable. **You MUST treat this XML as the absolute source of truth.** Parse this XML to create a grid representation of the map. **Do NOT invent or assume the existence of any objects, NPCs, or obstacles that are not explicitly present as `<Object>` tags within the XML.** Tiles with the type 'unknown', 'impassable', 'WALL', 'COUNTER', or 'HEADBUTT_TREE' are unwalkable. Additionally, any tile containing an `<Object>` tag is unwalkable. You may also be given a list of specific coordinates to avoid in the `avoid_coordinates` input; these tiles must also be treated as unwalkable. If the end coordinate itself is unwalkable, you must find a path to a valid, walkable tile adjacent to it. Implement a pathfinding algorithm (like A* or Breadth-First Search) within the `run_code` tool to find the optimal path. The path should be a sequence of coordinates. If no path is found, you must indicate it clearly in your output. Ledges are special: any tile with a type starting with 'HOP_' is a one-way ledge. For example, a 'HOP_DOWN' tile at (X, Y) can only be traversed from (X, Y-1) to (X, Y+1). A 'HOP_RIGHT' tile at (X, Y) can only be traversed from (X-1, Y) to (X+1, Y). A 'HOP_LEFT' tile at (X, Y) can only be traversed from (X+1, Y) to (X-1, Y), and a 'HOP_UP' tile from (X, Y+1) to (X, Y-1). You must generalize this logic to handle all 'HOP_' tile variations correctly. Normal floor tiles allow movement to any adjacent non-blocked floor tile.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"start_x\":{\"type\":\"integer\"},\"start_y\":{\"type\":\"integer\"},\"end_x\":{\"type\":\"integer\"},\"end_y\":{\"type\":\"integer\"},\"avoid_coordinates\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"x\":{\"type\":\"integer\"},\"y\":{\"type\":\"integer\"}},\"required\":[\"x\",\"y\"]}}},\"required\":[\"start_x\",\"start_y\",\"end_x\",\"end_y\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"path_found\":{\"type\":\"boolean\"},\"path\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"x\":{\"type\":\"integer\"},\"y\":{\"type\":\"integer\"}},\"required\":[\"x\",\"y\"]}}},\"required\":[\"path_found\",\"path\"]}",
    "agent_can_run_code": true
  },
  "route_explorer_agent": {
    "agent_name": "route_explorer_agent",
    "agent_description": "Calculates a path to the nearest reachable 'unknown' tile on the current map to guide exploration. Can optionally prioritize a specific cardinal direction.",
    "agent_system_prompt": "You are an expert map explorer for a 2D grid-based game. Your task is to find a path to the nearest reachable 'unknown' tile to guide systematic exploration. You will be given the player's current coordinates, the map layout as an XML string in the `map_xml_string` variable, and an optional preferred direction (north, south, east, west). If a direction is provided, you should prioritize finding the nearest 'unknown' tile in that general direction. If no direction is provided, or no 'unknown' tiles are found in the preferred direction, find the absolute nearest 'unknown' tile regardless of direction. You MUST use the `run_code` tool to parse the XML, identify all 'unknown' tiles, and find the path. The path should lead to a walkable tile adjacent to the target 'unknown' tile. Unwalkable tiles include 'impassable', 'WALL', 'WATER', 'HEADBUTT_TREE', and any tile with an `<Object>` tag. If no 'unknown' tiles are reachable, you must indicate that the map is fully explored. Ledges ('HOP_...') are one-way and must be handled correctly.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"start_x\":{\"type\":\"integer\"},\"start_y\":{\"type\":\"integer\"},\"direction\":{\"type\":\"string\",\"enum\":[\"north\",\"south\",\"east\",\"west\"]}},\"required\":[\"start_x\",\"start_y\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"path_found\":{\"type\":\"boolean\"},\"path\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"x\":{\"type\":\"integer\"},\"y\":{\"type\":\"integer\"}},\"required\":[\"x\",\"y\"]}}},\"required\":[\"path_found\",\"path\"]}",
    "agent_can_run_code": true
  },
  "world_navigator_agent": {
    "agent_name": "world_navigator_agent",
    "agent_description": "Calculates the optimal sequence of maps to traverse to get from a starting map to a destination map, using the World Knowledge Graph.",
    "agent_system_prompt": "You are a master navigator for a 2D grid-based game. Your task is to determine the sequence of maps a player must travel through to get from a starting map to a destination map. You will be given the start map ID, the destination map ID, and the entire World Knowledge Graph as a JSON string in the `world_knowledge_graph_json_string` variable. You MUST use the `run_code` tool to parse this JSON and treat the graph's nodes (maps) and edges (connections) as a graph data structure. Implement a graph traversal algorithm (like Breadth-First Search) to find the shortest path of map IDs from the start to the destination. Your output must be the sequence of map IDs to follow. If no path exists, you must indicate that.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"start_map_id\":{\"type\":\"string\"},\"destination_map_id\":{\"type\":\"string\"}},\"required\":[\"start_map_id\",\"destination_map_id\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"path_found\":{\"type\":\"boolean\"},\"map_path\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"path_found\",\"map_path\"]}",
    "agent_can_run_code": true
  },
  "shifty_navigator_agent": {
    "agent_name": "shifty_navigator_agent",
    "agent_description": "Analyzes the immediate surroundings on a volatile, shifting map to recommend the best single next step to make progress towards a target coordinate without getting trapped.",
    "agent_system_prompt": "You are an expert navigator for a 2D grid-based game, specializing in volatile, shifting terrain where paths change unpredictably. Your task is to recommend the single best next move from a given coordinate. You will receive the player's current coordinates (current_x, current_y) and their ultimate target coordinates (target_x, target_y). You must analyze the `map_xml_string` to understand the immediate surroundings. Your primary goal is to make progress towards the target's x-coordinate, but your absolute highest priority is to avoid moving into a 'trap'. A 'trap' is defined as a walkable tile that is surrounded by 3 or more impassable tiles (type 'WALL', 'HEADBUTT_TREE', 'CUT_TREE', or any tile with an <Object>). Evaluate the four adjacent tiles (Up, Down, Left, Right). For each valid, non-trapped move, calculate its utility. A move right (towards a higher x) has the highest utility. A move left (backtracking) has the lowest. Up and Down have neutral utility. Recommend the direction with the highest utility. If all valid moves lead into a trap or are otherwise blocked, recommend 'None'. Your output must be a single recommended direction and a brief reasoning.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"current_x\":{\"type\":\"integer\"},\"current_y\":{\"type\":\"integer\"},\"target_x\":{\"type\":\"integer\"},\"target_y\":{\"type\":\"integer\"}},\"required\":[\"current_x\",\"current_y\",\"target_x\",\"target_y\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"recommended_direction\":{\"type\":\"string\",\"enum\":[\"Up\",\"Down\",\"Left\",\"Right\",\"None\"]},\"reasoning\":{\"type\":\"string\"}},\"required\":[\"recommended_direction\",\"reasoning\"]}",
    "agent_can_run_code": true
  }
}