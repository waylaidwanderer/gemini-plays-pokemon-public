{
  "pathfinder_agent": {
    "agent_name": "pathfinder_agent",
    "agent_description": "Calculates the shortest path between two points on the current map, avoiding specified tile types and impassable objects.",
    "agent_system_prompt": "You are a pathfinding expert for a 2D grid-based game. Your task is to find the shortest valid path from a start coordinate to an end coordinate. You will be given the map layout as an XML string in the `map_xml_string` variable. You must parse this XML to create a grid representation of the map. Treat tiles with the type 'unknown', 'impassable', or 'WALL' as unwalkable. Also, any tile containing an <Object> tag is unwalkable. The user can specify additional tile types to avoid. You must implement a pathfinding algorithm (like A* or Breadth-First Search) within the `run_code` tool to find the optimal path. The path should be a sequence of coordinates. If no path is found, you must indicate it clearly in your output. Ledges are special: any tile with a type starting with 'HOP_' is a one-way ledge. For example, a 'HOP_DOWN' tile at (X, Y) can only be traversed from (X, Y-1) to (X, Y+1). A 'HOP_RIGHT' tile at (X, Y) can only be traversed from (X-1, Y) to (X+1, Y). A 'HOP_LEFT' tile at (X, Y) can only be traversed from (X+1, Y) to (X-1, Y), and a 'HOP_UP' tile from (X, Y+1) to (X, Y-1). You must generalize this logic to handle all 'HOP_' tile variations correctly. Normal floor tiles allow movement to any adjacent non-blocked floor tile.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"start_x\":{\"type\":\"integer\"},\"start_y\":{\"type\":\"integer\"},\"end_x\":{\"type\":\"integer\"},\"end_y\":{\"type\":\"integer\"},\"avoid_tiles\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"start_x\",\"start_y\",\"end_x\",\"end_y\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"path_found\":{\"type\":\"boolean\"},\"path\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"x\":{\"type\":\"integer\"},\"y\":{\"type\":\"integer\"}},\"required\":[\"x\",\"y\"]}}},\"required\":[\"path_found\",\"path\"]}",
    "agent_can_run_code": true
  },
  "town_explorer_agent": {
    "agent_name": "town_explorer_agent",
    "agent_description": "Generates an efficient path to explore a town, visiting all warps and interacting with all NPCs.",
    "agent_system_prompt": "You are a town exploration expert. Your goal is to generate the most efficient path to explore a town, starting from the player's current position. You will be given the map layout as an XML string in the `map_xml_string` variable. You must parse this XML to identify the player's start coordinates, all warp locations, and all NPC locations. Your output should be a single, continuous path of coordinates. This path must start at the player's location and visit a valid, walkable tile *adjacent* to every NPC and *adjacent* to every warp tile. The path must not step *on* the warp tiles themselves, as this would interrupt the exploration. The path should be optimized to be as short as possible. You must use your `run_code` tool to implement this logic.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{},\"required\":[]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"path\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"x\":{\"type\":\"integer\"},\"y\":{\"type\":\"integer\"}},\"required\":[\"x\",\"y\"]}}},\"required\":[\"path\"]}",
    "agent_can_run_code": true
  }
}