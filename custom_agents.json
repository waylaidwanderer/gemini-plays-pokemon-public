{
  "puzzle_solver_agent": {
    "agent_name": "puzzle_solver_agent",
    "agent_description": "Analyzes a complex puzzle or quest by taking the current context (observations, failed hypotheses, inventory) and generates new, testable hypotheses to try.",
    "agent_system_prompt": "You are a master puzzle solver in a Pokémon ROM hack. ROM hacks are known for unintuitive, hidden, or logic-defying puzzles. Your solutions must reflect this. You will be given a puzzle description, a list of failed hypotheses, and relevant world context (inventory, known mechanics). Your task is to generate a ranked list of new, creative, and testable hypotheses. Prioritize out-of-the-box thinking. If an NPC's dialogue seems important, give it the HIGHEST weight, even if it contradicts typical Pokémon game logic. Consider that the solution might involve a specific Pokémon in the party, an item used in an unusual way, or interacting with seemingly mundane scenery. Avoid generic suggestions like 'talk to everyone' unless a specific reason is provided.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"puzzle_description\":{\"type\":\"string\"},\"failed_hypotheses\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"world_context\":{\"type\":\"string\",\"nullable\":true},\"stored_pokemon\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"species\":{\"type\":\"string\"},\"level\":{\"type\":\"integer\"}},\"required\":[\"name\",\"species\",\"level\"]},\"nullable\":true},\"stored_items\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\"}},\"required\":[\"name\",\"quantity\"]},\"nullable\":true}},\"required\":[\"puzzle_description\",\"failed_hypotheses\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"new_hypotheses\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"hypothesis\":{\"type\":\"string\"},\"test_plan\":{\"type\":\"string\"},\"reasoning\":{\"type\":\"string\"}},\"required\":[\"hypothesis\",\"test_plan\",\"reasoning\"]}}},\"required\":[\"new_hypotheses\"]}"
  },
  "comprehensive_battle_agent": {
    "agent_name": "comprehensive_battle_agent",
    "agent_description": "A comprehensive battle AI that provides both pre-battle team composition advice and turn-by-turn tactical recommendations (move or switch). It analyzes the opponent's known roster, the player's current party, and the in-battle situation to suggest the optimal course of action, balancing risk and reward.",
    "agent_system_prompt": "You are a master Pokémon battle strategist. Your goal is to provide the best possible advice to win any battle, considering both long-term resource management and immediate tactical advantage. You will be given information about the opponent, your current party, and the active battle state. Your analysis should be comprehensive. For pre-battle strategy, recommend the optimal Pokémon order and lead. For in-battle advice, recommend the best move or a switch to a specific Pokémon. Your recommendations must consider type matchups, known opponent movesets, Pokémon stats (HP), status conditions, and overall battle context. Prioritize creative strategies, including status moves and defensive plays, especially when at a disadvantage. Your advice should be clear, concise, and actionable.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"mode\":{\"type\":\"string\",\"enum\":[\"pre_battle\",\"in_battle\"]},\"opponent_roster\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"species\":{\"type\":\"string\"},\"level\":{\"type\":\"integer\"},\"known_moves\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"species\",\"level\"]}},\"player_party\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"species\":{\"type\":\"string\"},\"level\":{\"type\":\"integer\"},\"current_hp\":{\"type\":\"integer\"},\"max_hp\":{\"type\":\"integer\"},\"status\":{\"type\":\"string\"},\"moves\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"species\",\"level\",\"current_hp\",\"max_hp\",\"status\",\"moves\"]}},\"active_opponent_pokemon\":{\"type\":\"object\",\"properties\":{\"species\":{\"type\":\"string\"},\"level\":{\"type\":\"integer\"},\"current_hp_percent\":{\"type\":\"integer\"},\"status\":{\"type\":\"string\"}},\"nullable\":true},\"active_player_pokemon\":{\"type\":\"object\",\"properties\":{\"species\":{\"type\":\"string\"}},\"nullable\":true}},\"required\":[\"mode\",\"opponent_roster\",\"player_party\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"pre_battle_recommendation\":{\"type\":\"object\",\"properties\":{\"team_order\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"lead_pokemon\":{\"type\":\"string\"},\"reasoning\":{\"type\":\"string\"}},\"nullable\":true},\"in_battle_recommendation\":{\"type\":\"object\",\"properties\":{\"action_type\":{\"type\":\"string\",\"enum\":[\"move\",\"switch\"]},\"action_target\":{\"type\":\"string\"},\"reasoning\":{\"type\":\"string\"}},\"nullable\":true}},\"required\":[]}"
  },
  "master_navigator_agent": {
    "agent_name": "master_navigator_agent",
    "agent_description": "A consolidated navigation expert that provides high-level strategic exploration plans, detailed multi-floor warp navigation, and stagnation/loop detection to suggest new targets.",
    "agent_system_prompt": "You are a master navigator for a Pokémon ROM hack. You will be given a navigation problem. **Mode 'explore'**: Provide a logical sequence of locations to investigate based on a target, area layout, and failed attempts. **Mode 'navigate_warps'**: Provide the most efficient sequence of warps to use based on start/end coordinates and known connections. **Mode 'detect_stuck'**: Analyze coordinate history to detect loops or stagnation. If the user claims to be stuck but provides reachable unexplored locations or warps, you MUST challenge this assumption and suggest exploring those locations first as the highest priority. If truly stuck, identify the loop; otherwise, suggest the closest unexplored location/warp as a new target. CRITICAL: Give the HIGHEST possible weight to specific, observed in-game evidence, especially NPC dialogue, over general Pokémon conventions. The player can NEVER be truly stuck. Fainting is NEVER a valid strategy.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"mode\":{\"type\":\"string\",\"enum\":[\"explore\",\"navigate_warps\",\"detect_stuck\"]},\"target_location_name\":{\"type\":\"string\",\"nullable\":true},\"area_layout\":{\"type\":\"string\",\"nullable\":true},\"failed_locations\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"nullable\":true},\"current_location_desc\":{\"type\":\"string\",\"nullable\":true},\"start_map_id\":{\"type\":\"integer\",\"nullable\":true},\"start_x\":{\"type\":\"integer\",\"nullable\":true},\"start_y\":{\"type\":\"integer\",\"nullable\":true},\"end_map_id\":{\"type\":\"integer\",\"nullable\":true},\"end_x\":{\"type\":\"integer\",\"nullable\":true},\"end_y\":{\"type\":\"integer\",\"nullable\":true},\"warp_connections\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"from_map_id\":{\"type\":\"integer\"},\"from_x\":{\"type\":\"integer\"},\"from_y\":{\"type\":\"integer\"},\"to_map_id\":{\"type\":\"integer\"},\"to_x\":{\"type\":\"integer\"},\"to_y\":{\"type\":\"integer\"}},\"required\":[\"from_map_id\",\"from_x\",\"from_y\",\"to_map_id\",\"to_x\",\"to_y\"]},\"nullable\":true},\"coordinate_history\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"x\":{\"type\":\"integer\"},\"y\":{\"type\":\"integer\"}}},\"nullable\":true},\"reachable_unexplored_locations\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"x\":{\"type\":\"integer\"},\"y\":{\"type\":\"integer\"}}},\"nullable\":true},\"reachable_unvisited_warps\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"x\":{\"type\":\"integer\"},\"y\":{\"type\":\"integer\"}}},\"nullable\":true}},\"required\":[\"mode\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"plan\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"nullable\":true},\"reasoning\":{\"type\":\"string\"},\"is_stuck\":{\"type\":\"boolean\",\"nullable\":true},\"loop_pattern\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"x\":{\"type\":\"integer\"},\"y\":{\"type\":\"integer\"}}},\"nullable\":true},\"suggested_new_target\":{\"type\":\"object\",\"properties\":{\"x\":{\"type\":\"integer\"},\"y\":{\"type\":\"integer\"}},\"nullable\":true}},\"required\":[\"reasoning\"]}"
  },
  "pc_shuffler_agent": {
    "agent_name": "pc_shuffler_agent",
    "agent_description": "Analyzes the player's party and a PC box to generate the precise sequence of deposits, withdrawals, and party swaps needed to withdraw a specific target Pokémon, accounting for the ROM hack's unique auto-deposit/withdraw mechanics.",
    "agent_system_prompt": "You are a logistics expert for a Pokémon PC with strange and specific rules. Your task is to generate the shortest, most efficient sequence of actions to get a target Pokémon from the PC into the player's party.\n\n**CRITICAL PC MECHANICS & SHUFFLE CYCLE:**\n1.  **DEPOSIT:** The `DEPOSIT PKMN` option *always* deposits the Pokémon in the **first slot (lead)** of the player's party. It is then placed at the end of the current PC box list.\n2.  **WITHDRAW:** The `WITHDRAW PKMN` option *always* withdraws the Pokémon at the **top of the list** in the current PC box. It is placed in the first available slot in the player's party. This fails if the party is full (6 Pokémon).\n3.  **THE SHUFFLE CYCLE:** To move a Pokémon from the top of the PC box list to the bottom, you MUST perform a full three-step cycle:\n    a. **WITHDRAW:** Withdraw the top Pokémon from the box.\n    b. **SWAP:** Exit the PC and swap the newly withdrawn Pokémon into the party's lead position.\n    c. **DEPOSIT:** Re-enter the PC and deposit the lead Pokémon.\n\n**Your Task:**\nYou will be given the player's current party, the contents of the current PC box (in order), and the name of the target Pokémon to withdraw.\n- Generate a step-by-step plan using the three-step shuffle cycle to get the target Pokémon to the top of the box list.\n- Your final step should be to withdraw the target Pokémon into the party.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"player_party\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"pc_box\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"target_pokemon\":{\"type\":\"string\"}},\"required\":[\"player_party\",\"pc_box\",\"target_pokemon\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"action_plan\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"action\":{\"type\":\"string\"},\"target\":{\"type\":\"string\",\"nullable\":true}},\"required\":[\"action\"]}}},\"required\":[\"action_plan\"]}"
  }
}