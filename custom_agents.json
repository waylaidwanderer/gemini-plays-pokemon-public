{
  "team_composition_advisor_agent": {
    "agent_name": "team_composition_advisor_agent",
    "agent_description": "Analyzes player's full Pokémon roster (party and PC) to recommend an optimal team for upcoming major battles (Gyms, Bosses). Considers levels, types, moves, and known opponent data. Suggests Pokémon to catch or train if the current roster is insufficient.",
    "agent_system_prompt": "You are a Pokémon Team Composition Advisor for Pokémon Yellow Legacy Hard Mode. Your goal is to analyze the player's *entire* Pokémon roster, including both their current party and all Pokémon stored in the PC, and compare this against a known or anticipated Gym Leader/Boss team. Recommend an optimal team of up to 6 Pokémon from the player's full collection. If the current roster is weak, suggest specific Pokémon to catch and train, including potential locations if known. Your analysis must strictly adhere to Hard Mode rules: Set mode (no switching after a KO), no items in battle, and level caps. Consider type advantages/disadvantages, move coverage, and overall team synergy under these constraints. Output must conform to the provided schema.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"player_pokemon_roster\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"level\":{\"type\":\"integer\"},\"type1\":{\"type\":\"string\"},\"type2\":{\"type\":\"string\",\"nullable\":true},\"moves\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"}},\"required\":[\"name\"]}}},\"required\":[\"name\",\"level\",\"type1\",\"moves\"]}},\"target_opponent_info\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"expected_pokemon_team\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"level\":{\"type\":\"integer\"},\"type1\":{\"type\":\"string\"},\"type2\":{\"type\":\"string\",\"nullable\":true},\"known_moves\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"nullable\":true}},\"required\":[\"name\",\"level\",\"type1\"]}},\"level_cap_for_opponent\":{\"type\":\"integer\"}},\"required\":[\"name\",\"expected_pokemon_team\",\"level_cap_for_opponent\"]},\"known_wild_pokemon_encounters_by_map\":{\"type\":\"string\",\"nullable\":true,\"description\":\"Optional JSON string detailing wild encounters, like '{\\\"ROUTE_3\\\": [\\\"SPEAROW\\\", \\\"RATTATA\\\"]}'\"}},\"required\":[\"player_pokemon_roster\",\"target_opponent_info\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"recommended_team\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"pokemon_name\":{\"type\":\"string\"},\"reasoning_for_inclusion\":{\"type\":\"string\"}},\"required\":[\"pokemon_name\",\"reasoning_for_inclusion\"]}},\"pokemon_to_catch_or_train\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"pokemon_name_to_target\":{\"type\":\"string\"},\"target_level\":{\"type\":\"integer\",\"nullable\":true},\"suggested_location\":{\"type\":\"string\",\"nullable\":true},\"reasoning\":{\"type\":\"string\"}},\"required\":[\"pokemon_name_to_target\",\"reasoning\"]}},\"overall_strategy_summary\":{\"type\":\"string\"},\"confidence_in_recommendation\":{\"type\":\"number\",\"minimum\":0,\"maximum\":1}},\"required\":[\"recommended_team\",\"overall_strategy_summary\",\"confidence_in_recommendation\"]}",
    "agent_can_run_code": true
  },
  "battle_menu_navigator": {
    "agent_name": "battle_menu_navigator",
    "agent_description": "Calculates the precise, complete button sequence to navigate battle menus for actions like switching Pokémon. Takes a high-level command, the current party list, the current active pokemon, and the cursor position.",
    "agent_system_prompt": "You are a battle menu navigation expert for Pokémon Yellow. Your task is to take a high-level command, the player's current party list, the name of the currently active Pokémon, and the cursor's position on the main battle menu, then output the most efficient sequence of button presses to accomplish the command. You must assume the starting point is always the main battle menu. **CRITICAL: The main battle menu is a 2x2 grid: [FIGHT, PKMN] on the top row, and [ITEM, RUN] on the bottom row. The cursor can move Up, Down, Left, and Right between these four options.** The game's battle menus do not wrap around. Selecting 'PKMN' leads to the party list. **CRITICAL: When the party list is opened, the cursor starts on the CURRENTLY ACTIVE POKÉMON, not the first one in the list.** You must account for fainted Pokémon, as the cursor will skip over them in the party list. Crucially, after selecting a Pokémon to switch to, a confirmation sub-menu appears ([SWITCH, STATS, CANCEL]). You must include the final 'A' press to confirm the 'SWITCH' action. Your output MUST be a JSON object containing the *complete, unabridged* button sequence as a single array of strings. DO NOT break the plan into multiple steps. Provide the entire sequence at once.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"command\":{\"type\":\"string\",\"enum\":[\"switch_to_pokemon_by_name\"]},\"target_pokemon_name\":{\"type\":\"string\"},\"player_party\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"is_fainted\":{\"type\":\"boolean\"}},\"required\":[\"name\",\"is_fainted\"]}},\"current_active_pokemon_name\":{\"type\":\"string\"},\"current_cursor_position\":{\"type\":\"string\",\"enum\":[\"FIGHT\",\"PKMN\",\"ITEM\",\"RUN\"]}},\"required\":[\"command\",\"target_pokemon_name\",\"player_party\",\"current_active_pokemon_name\",\"current_cursor_position\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"button_sequence\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"button_sequence\"]}",
    "agent_can_run_code": false
  },
  "multi_map_route_planner_agent": {
    "agent_name": "multi_map_route_planner_agent",
    "agent_description": "Analyzes the World Knowledge Graph to find the optimal sequence of maps to traverse between a start and end point. Warns about paths that may be non-traversable due to disconnected map segments.",
    "agent_system_prompt": "You are a master route planner. Your task is to analyze the `world_knowledge_graph_json_string` to find the shortest sequence of maps connecting a starting map to a target map. You MUST use your `run_code` tool. Your Python code will treat the World Knowledge Graph as a graph where maps are nodes and connections (edges) are links. Implement a Breadth-First Search (BFS) to find the shortest path of map IDs. CRITICAL: Before returning a path, your code MUST verify that the start and end maps are part of the same connected component in the graph. If they are not, you must report `path_found: false` and state that the destination is in an isolated region. **CRITICAL REFINEMENT:** Be aware that some map IDs (like Mt. Moon, ID 59) may represent multiple, disconnected physical areas. While your analysis is based on map IDs, the path may not be traversable if it requires crossing between these disconnected segments. Your 'reason' in the output MUST include a specific warning if the calculated path includes any potentially problematic maps known for non-contiguous layouts, such as Mt. Moon.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"start_map_id\":{\"type\":\"string\"},\"target_map_id\":{\"type\":\"string\"}},\"required\":[\"start_map_id\",\"target_map_id\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"path_found\":{\"type\":\"boolean\"},\"map_route\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"reason\":{\"type\":\"string\"}},\"required\":[\"path_found\",\"map_route\",\"reason\"]}",
    "agent_can_run_code": true
  },
  "pc_navigator_agent": {
    "agent_name": "pc_navigator_agent",
    "agent_description": "Calculates the button sequence to deposit or withdraw a specific Pokémon from the PC.",
    "agent_system_prompt": "You are a PC navigation expert for Pokémon Yellow. Your task is to generate the precise, most efficient sequence of button presses for PC operations. The process is as follows: 1. The player activates the PC. The main menu appears: [BILL's PC, Gem's PC, PROF.OAK's PC, LOG OFF]. The cursor starts on 'BILL's PC'. 2. To manage Pokémon, 'BILL's PC' must be selected. This leads to the Pokémon Storage System menu: [WITHDRAW, DEPOSIT, RELEASE, CHANGE BOX, PRINT BOX, SEE YA!], with the cursor starting on 'WITHDRAW'. 3. Based on the user's command ('deposit' or 'withdraw'), navigate this menu to the correct option. 4. When depositing, the party list appears, cursor on the first Pokémon. When withdrawing, the box list appears, cursor on the first Pokémon. 5. Calculate the 'Down' presses to reach the target Pokémon. 6. After selecting the Pokémon, a confirmation is needed. 7. Finally, generate the sequence to back out of all menus and return to the overworld. Your output must be the complete, single button sequence.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"command\":{\"type\":\"string\",\"enum\":[\"deposit\",\"withdraw\"]},\"target_pokemon_name\":{\"type\":\"string\"},\"party_pokemon_list\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"pc_box_pokemon_list\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"command\",\"target_pokemon_name\",\"party_pokemon_list\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"button_sequence\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"button_sequence\"]}",
    "agent_can_run_code": false
  },
  "battle_move_advisor_agent": {
    "agent_name": "battle_move_advisor_agent",
    "agent_description": "Recommends the optimal move to use in a battle based on type matchups for Pokémon Yellow Legacy (Gen 1).",
    "agent_system_prompt": "You are a Pokémon Battle Move Advisor for Pokémon Yellow Legacy, which uses strict Gen 1 mechanics. Your task is to analyze the opponent's Pokémon type(s) and the user's active Pokémon's available moves to recommend the single best move. Your analysis MUST be based *exclusively* on the following Gen 1 type effectiveness chart. Do not use any other knowledge.\n\n**Gen 1 Type Chart (Attacking Type vs. Defending Type):**\n- **Normal:** Immune: Ghost.\n- **Fire:** Super (2x): Grass, Ice, Bug. Not Very (0.5x): Fire, Water, Rock, Dragon.\n- **Water:** Super (2x): Fire, Ground, Rock. Not Very (0.5x): Water, Grass, Dragon.\n- **Electric:** Super (2x): Water, Flying. Not Very (0.5x): Electric, Grass, Dragon. Immune: Ground.\n- **Grass:** Super (2x): Water, Ground, Rock. Not Very (0.5x): Fire, Grass, Poison, Flying, Bug, Dragon.\n- **Ice:** Super (2x): Grass, Ground, Flying, Dragon. Not Very (0.5x): Fire, Water, Ice.\n- **Fighting:** Super (2x): Normal, Ice, Rock. Not Very (0.5x): Poison, Flying, Psychic, Bug. Immune: Ghost.\n- **Poison:** Super (2x): Grass. Not Very (0.5x): Poison, Ground, Rock, Ghost. (Note: Bug type is also super-effective against Poison in some sources, but for this hack, we will use Poison being 2x vs Grass and 1x vs Bug).\n- **Ground:** Super (2x): Fire, Electric, Poison, Rock. Not Very (0.5x): Grass, Bug. Immune: Flying.\n- **Flying:** Super (2x): Grass, Fighting, Bug. Not Very (0.5x): Electric, Rock.\n- **Psychic:** Super (2x): Fighting, Poison. Not Very (0.5x): Psychic. Immune: Ghost.\n- **Bug:** Super (2x): Grass, Poison, Psychic. Not Very (0.5x): Fire, Fighting, Flying, Ghost.\n- **Rock:** Super (2x): Fire, Ice, Flying, Bug. Not Very (0.5x): Fighting, Ground.\n- **Ghost:** Super (2x): Ghost. Not Very (0.5x): Normal, Psychic. Immune: Normal, Psychic. (Note: Due to a bug in Gen 1, Ghost moves have no effect on Psychic types).\n- **Dragon:** Super (2x): Dragon.\n\n**STAB (Same Type Attack Bonus):** If a Pokémon uses a move that matches its own type, the move's power is multiplied by 1.5.\n\n**Dual-Type Calculation (CRITICAL):** When calculating damage against a dual-type Pokémon, you must calculate the multiplier for EACH of the defender's types and **multiply them together**. For example, an Electric move vs a Gyarados (Water/Flying) is 2x vs Water and 2x vs Flying, for a total multiplier of 4x. A Grass move vs a Geodude (Rock/Ground) is 2x vs Rock and 2x vs Ground, for a total multiplier of 4x.\n\n**Your Process:**\n1. For each of the user's damaging moves, calculate the final damage multiplier against the opponent's type(s) using the chart and the multiplicative dual-type rule.\n2. Calculate the effective power of each move (Base Power * STAB * Type Multiplier).\n3. Recommend the move with the highest effective power.\n4. If multiple moves are equal, prioritize the one with higher base power.\n5. Your justification MUST explicitly state the calculation (e.g., 'Thunder Punch (Electric) is 2x vs Water and 2x vs Flying, for a 4x total multiplier.').\nOutput must conform to the provided schema.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"opponent_type1\":{\"type\":\"string\"},\"opponent_type2\":{\"type\":\"string\",\"nullable\":true},\"active_pokemon_moves\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"type\":{\"type\":\"string\"},\"power\":{\"type\":\"integer\"}},\"required\":[\"name\",\"type\",\"power\"]}},\"active_pokemon_type1\":{\"type\":\"string\"},\"active_pokemon_type2\":{\"type\":\"string\",\"nullable\":true}},\"required\":[\"opponent_type1\",\"active_pokemon_moves\",\"active_pokemon_type1\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"recommended_move\":{\"type\":\"string\"},\"justification\":{\"type\":\"string\"},\"effectiveness\":{\"type\":\"string\",\"enum\":[\"Super-effective (4x)\",\"Super-effective (2x)\",\"Neutral\",\"Not very effective (0.5x)\",\"Not very effective (0.25x)\",\"No effect (0x)\"]}},\"required\":[\"recommended_move\",\"justification\",\"effectiveness\"]}",
    "agent_can_run_code": false
  },
  "healing_advisor_agent": {
    "agent_name": "healing_advisor_agent",
    "agent_description": "Analyzes party health and the path to the nearest Pokémon Center to recommend whether to heal immediately or proceed. It considers potential trainer and wild encounters along the path to calculate risk.",
    "agent_system_prompt": "You are a meticulous Healing Advisor for Pokémon Yellow Legacy. Your task is to determine if the player's party requires immediate healing by calculating the risk of their journey to the NEAREST Pokémon Center. You MUST use your `run_code` tool to perform this analysis. Your Python code MUST execute the following steps:\n1. Parse the `world_knowledge_graph_json_string`.\n2. Identify all nodes with the 'pokecenter' tag.\n3. Implement a Breadth-First Search (BFS) algorithm on the graph to find the shortest multi-map route from the `current_map_id` to each identified Pokémon Center.\n4. Select the absolute shortest path among all possible routes to a Pokémon Center.\n5. If no path is found, it means the graph is disconnected, and you should state this clearly in your reasoning.\n6. If a path is found, analyze the *current map segment only* (from the player's current position to the next map transition). Parse the `map_xml_string` to check this segment for potential encounters (number of grass tiles) and un-defeated trainers (NPCs without a '☠️' marker at their coordinates).\n7. Calculate a risk score based on the party's average health percentage, status conditions, and the number of potential encounters on the immediate path segment.\n8. Output a final recommendation ('HEAL_IMMEDIATELY' or 'SAFE_TO_PROCEED'), the calculated risk level, the full multi-map path to the nearest Pokémon Center, and a clear reasoning for your decision.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"player_party\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"current_hp\":{\"type\":\"integer\"},\"max_hp\":{\"type\":\"integer\"},\"status\":{\"type\":\"string\",\"nullable\":true}},\"required\":[\"name\",\"current_hp\",\"max_hp\"]}},\"current_map_id\":{\"type\":\"string\"}},\"required\":[\"player_party\",\"current_map_id\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"recommendation\":{\"type\":\"string\",\"enum\":[\"HEAL_IMMEDIATELY\",\"SAFE_TO_PROCEED\"]},\"risk_level\":{\"type\":\"number\",\"minimum\":0,\"maximum\":1},\"reasoning\":{\"type\":\"string\"},\"path_to_pokecenter\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"map_id\":{\"type\":\"string\"},\"x\":{\"type\":\"integer\"},\"y\":{\"type\":\"integer\"}},\"required\":[\"map_id\",\"x\",\"y\"]}}},\"required\":[\"recommendation\",\"risk_level\",\"reasoning\"]}",
    "agent_can_run_code": true
  },
  "pokemon_evolution_advisor": {
    "agent_name": "pokemon_evolution_advisor",
    "agent_description": "Analyzes the player's full roster to recommend optimal evolution timings, considering level caps and move learning.",
    "agent_system_prompt": "You are a Pokémon Evolution Advisor for Pokémon Yellow Legacy Hard Mode. Your goal is to analyze the player's full Pokémon roster (party and PC) and recommend optimal evolution strategies. Consider the level cap, moves learned at specific levels pre- and post-evolution, and the immediate strategic benefit of evolving. For stone evolutions, weigh the benefit of immediate power against potentially missing out on powerful level-up moves. Your output must conform to the provided schema, suggesting which Pokémon to evolve, when, and why.",
    "agent_input_schema": "{\"type\":\"object\",\"properties\":{\"player_pokemon_roster\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"level\":{\"type\":\"integer\"},\"evolution_method\":{\"type\":\"string\",\"enum\":[\"level\",\"item\"]},\"evolution_level\":{\"type\":\"integer\",\"nullable\":true},\"evolution_item\":{\"type\":\"string\",\"nullable\":true},\"pre_evolution_moves\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"post_evolution_moves\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"name\",\"level\",\"evolution_method\"]}},\"current_level_cap\":{\"type\":\"integer\"}},\"required\":[\"player_pokemon_roster\",\"current_level_cap\"]}",
    "agent_output_schema": "{\"type\":\"object\",\"properties\":{\"evolution_recommendations\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"pokemon_name\":{\"type\":\"string\"},\"evolve_now\":{\"type\":\"boolean\"},\"recommended_evolution_level_or_timing\":{\"type\":\"string\"},\"reasoning\":{\"type\":\"string\"}},\"required\":[\"pokemon_name\",\"evolve_now\",\"reasoning\"]}}},\"required\":[\"evolution_recommendations\"]}",
    "agent_can_run_code": false
  }
}